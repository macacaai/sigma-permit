import{s as ll,d as u,B as yt,F as $e,i as q,b as a,l as W,G as ml,m as o,c as i,e as g,p as z,g as x,f as L,h as c,j as E,t as B,I as pl,a as we,n as Ze,A as $t,J as jt,C as wt,K as _l,o as hl,q as vl,r as al,L as gl,M as Ht}from"../chunks/BM_9wLIj.js";import{S as rl,i as sl,t as K,a as F,g as St,c as Vt,d as he,m as ve,b as ge,e as be,f as Dt}from"../chunks/DQoX3H7n.js";import{d as It,t as ft,e as Ot}from"../chunks/CEGMbthI.js";import{M as Nt}from"../chunks/8TY9-p5I.js";import{L as bl}from"../chunks/DdsxKvKa.js";import{R as yl,P as nl,T as ol,S as kl}from"../chunks/lZ7b4qBu.js";import{S as Cl}from"../chunks/CrTZofgC.js";import{F as xl}from"../chunks/C8OqVKqU.js";import{C as El}from"../chunks/BPYsAQNa.js";import{C as Tl,X as $l}from"../chunks/CIUFNSCc.js";function Rt(r){let e,t=r[3].name+"",l;return{c(){e=c("p"),l=B(t),this.h()},l(s){e=i(s,"P",{class:!0});var n=g(e);l=L(n,t),n.forEach(u),this.h()},h(){o(e,"class","mt-1 text-sm text-red-600")},m(s,n){q(s,e,n),a(e,l)},p(s,n){n&8&&t!==(t=s[3].name+"")&&we(l,t)},d(s){s&&u(e)}}}function Ft(r){let e,t=r[3].description+"",l;return{c(){e=c("p"),l=B(t),this.h()},l(s){e=i(s,"P",{class:!0});var n=g(e);l=L(n,t),n.forEach(u),this.h()},h(){o(e,"class","mt-1 text-sm text-red-600")},m(s,n){q(s,e,n),a(e,l)},p(s,n){n&8&&t!==(t=s[3].description+"")&&we(l,t)},d(s){s&&u(e)}}}function qt(r){let e,t;return{c(){e=c("p"),t=B(r[4]),this.h()},l(l){e=i(l,"P",{class:!0});var s=g(e);t=L(s,r[4]),s.forEach(u),this.h()},h(){o(e,"class","mt-1 text-sm text-red-600")},m(l,s){q(l,e,s),a(e,t)},p(l,s){s&16&&we(t,l[4])},d(l){l&&u(e)}}}function Xt(r){let e,t;return{c(){e=c("p"),t=B(r[5]),this.h()},l(l){e=i(l,"P",{class:!0});var s=g(e);t=L(s,r[5]),s.forEach(u),this.h()},h(){o(e,"class","mt-1 text-sm text-red-600")},m(l,s){q(l,e,s),a(e,t)},p(l,s){s&32&&we(t,l[5])},d(l){l&&u(e)}}}function wl(r){let e,t=r[0]?"Update Template":"Create Template",l;return{c(){e=c("span"),l=B(t)},l(s){e=i(s,"SPAN",{});var n=g(e);l=L(n,t),n.forEach(u)},m(s,n){q(s,e,n),a(e,l)},p(s,n){n&1&&t!==(t=s[0]?"Update Template":"Create Template")&&we(l,t)},i:Ze,o:Ze,d(s){s&&u(e)}}}function Dl(r){let e,t,l,s=r[0]?"Updating...":"Creating...",n,p;return e=new bl({props:{size:16,class:"animate-spin"}}),{c(){be(e.$$.fragment),t=E(),l=c("span"),n=B(s)},l(m){ge(e.$$.fragment,m),t=x(m),l=i(m,"SPAN",{});var d=g(l);n=L(d,s),d.forEach(u)},m(m,d){ve(e,m,d),q(m,t,d),q(m,l,d),a(l,n),p=!0},p(m,d){(!p||d&1)&&s!==(s=m[0]?"Updating...":"Creating...")&&we(n,s)},i(m){p||(F(e.$$.fragment,m),p=!0)},o(m){K(e.$$.fragment,m),p=!1},d(m){m&&(u(t),u(l)),he(e,m)}}}function Nl(r){let e,t,l,s="Template Name",n,p,m,d,v,_="Display name for the license template",b,f,k,y="Description",M,O,H,N,$,I="Brief description of the template's purpose",D,C,w,T,A="JSON Schema (Optional)",X,U,te="Format JSON",ue,G,Se,Le,De,ye="JSON schema for validating license payloads",Ne,oe,Z,ee,Q="Validation Rules (Optional)",j,ae,me="Format JSON",ke,fe,S,R,le,et="Additional validation rules for the template",Ee,Ie,Ce,_t="Status",Be,Re,de,dt,pe,ht="Active template",rt,Oe,vt="Inactive templates cannot be used for new licenses",st,se,Ve,Ke,tt,Ae,_e,xe,qe,Qe,nt,ie=r[3].name&&Rt(r),ce=r[3].description&&Ft(r),ne=r[4]&&qt(r),Y=r[5]&&Xt(r);const mt=[Dl,wl],Me=[];function ze(P,J){return P[2]?0:1}return _e=ze(r),xe=Me[_e]=mt[_e](r),{c(){e=c("form"),t=c("div"),l=c("label"),l.textContent=s,n=E(),p=c("input"),m=E(),ie&&ie.c(),d=E(),v=c("p"),v.textContent=_,b=E(),f=c("div"),k=c("label"),k.textContent=y,M=E(),O=c("textarea"),H=E(),ce&&ce.c(),N=E(),$=c("p"),$.textContent=I,D=E(),C=c("div"),w=c("div"),T=c("label"),T.textContent=A,X=E(),U=c("button"),U.textContent=te,ue=E(),G=c("textarea"),Se=E(),ne&&ne.c(),Le=E(),De=c("p"),De.textContent=ye,Ne=E(),oe=c("div"),Z=c("div"),ee=c("label"),ee.textContent=Q,j=E(),ae=c("button"),ae.textContent=me,ke=E(),fe=c("textarea"),S=E(),Y&&Y.c(),R=E(),le=c("p"),le.textContent=et,Ee=E(),Ie=c("div"),Ce=c("label"),Ce.textContent=_t,Be=E(),Re=c("div"),de=c("input"),dt=E(),pe=c("label"),pe.textContent=ht,rt=E(),Oe=c("p"),Oe.textContent=vt,st=E(),se=c("div"),Ve=c("button"),Ke=B("Cancel"),tt=E(),Ae=c("button"),xe.c(),this.h()},l(P){e=i(P,"FORM",{class:!0});var J=g(e);t=i(J,"DIV",{});var re=g(t);l=i(re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(l)!=="svelte-4gsqrs"&&(l.textContent=s),n=x(re),p=i(re,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),m=x(re),ie&&ie.l(re),d=x(re),v=i(re,"P",{class:!0,"data-svelte-h":!0}),z(v)!=="svelte-1gk7j0l"&&(v.textContent=_),re.forEach(u),b=x(J),f=i(J,"DIV",{});var je=g(f);k=i(je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(k)!=="svelte-1b3mfuu"&&(k.textContent=y),M=x(je),O=i(je,"TEXTAREA",{id:!0,class:!0,placeholder:!0,rows:!0}),g(O).forEach(u),H=x(je),ce&&ce.l(je),N=x(je),$=i(je,"P",{class:!0,"data-svelte-h":!0}),z($)!=="svelte-1ue9vo7"&&($.textContent=I),je.forEach(u),D=x(J),C=i(J,"DIV",{});var Je=g(C);w=i(Je,"DIV",{class:!0});var Pe=g(w);T=i(Pe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(T)!=="svelte-fzc8ha"&&(T.textContent=A),X=x(Pe),U=i(Pe,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(U)!=="svelte-9633ie"&&(U.textContent=te),Pe.forEach(u),ue=x(Je),G=i(Je,"TEXTAREA",{id:!0,class:!0,placeholder:!0,rows:!0}),g(G).forEach(u),Se=x(Je),ne&&ne.l(Je),Le=x(Je),De=i(Je,"P",{class:!0,"data-svelte-h":!0}),z(De)!=="svelte-wgl4xm"&&(De.textContent=ye),Je.forEach(u),Ne=x(J),oe=i(J,"DIV",{});var He=g(oe);Z=i(He,"DIV",{class:!0});var Ue=g(Z);ee=i(Ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(ee)!=="svelte-1tzlt62"&&(ee.textContent=Q),j=x(Ue),ae=i(Ue,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(ae)!=="svelte-1j4e0lx"&&(ae.textContent=me),Ue.forEach(u),ke=x(He),fe=i(He,"TEXTAREA",{id:!0,class:!0,placeholder:!0,rows:!0}),g(fe).forEach(u),S=x(He),Y&&Y.l(He),R=x(He),le=i(He,"P",{class:!0,"data-svelte-h":!0}),z(le)!=="svelte-cvo30o"&&(le.textContent=et),He.forEach(u),Ee=x(J),Ie=i(J,"DIV",{});var Xe=g(Ie);Ce=i(Xe,"LABEL",{class:!0,"data-svelte-h":!0}),z(Ce)!=="svelte-174zv4m"&&(Ce.textContent=_t),Be=x(Xe),Re=i(Xe,"DIV",{class:!0});var ot=g(Re);de=i(ot,"INPUT",{type:!0,id:!0,class:!0}),dt=x(ot),pe=i(ot,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(pe)!=="svelte-1oia052"&&(pe.textContent=ht),ot.forEach(u),rt=x(Xe),Oe=i(Xe,"P",{class:!0,"data-svelte-h":!0}),z(Oe)!=="svelte-v3ed4j"&&(Oe.textContent=vt),Xe.forEach(u),st=x(J),se=i(J,"DIV",{class:!0});var it=g(se);Ve=i(it,"BUTTON",{type:!0,class:!0});var Fe=g(Ve);Ke=L(Fe,"Cancel"),Fe.forEach(u),tt=x(it),Ae=i(it,"BUTTON",{type:!0,class:!0});var gt=g(Ae);xe.l(gt),gt.forEach(u),it.forEach(u),J.forEach(u),this.h()},h(){o(l,"for","name"),o(l,"class","form-label"),o(p,"type","text"),o(p,"id","name"),o(p,"class","form-input"),o(p,"placeholder","Enter template name"),p.required=!0,o(v,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(k,"for","description"),o(k,"class","form-label"),o(O,"id","description"),o(O,"class","form-input"),o(O,"placeholder","Describe what this template is for..."),o(O,"rows","3"),O.required=!0,o($,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(T,"for","payload_schema"),o(T,"class","form-label"),o(U,"type","button"),o(U,"class","text-xs bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 px-2 py-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700"),o(w,"class","flex items-center justify-between mb-2"),o(G,"id","payload_schema"),o(G,"class","form-input font-mono text-sm"),o(G,"placeholder","Enter JSON schema for license validation..."),o(G,"rows","8"),o(De,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(ee,"for","validation_rules"),o(ee,"class","form-label"),o(ae,"type","button"),o(ae,"class","text-xs bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 px-2 py-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700"),o(Z,"class","flex items-center justify-between mb-2"),o(fe,"id","validation_rules"),o(fe,"class","form-input font-mono text-sm"),o(fe,"placeholder","Enter additional validation rules..."),o(fe,"rows","6"),o(le,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(Ce,"class","form-label"),o(de,"type","checkbox"),o(de,"id","is_active"),o(de,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"),o(pe,"for","is_active"),o(pe,"class","text-sm font-medium text-gray-700 dark:text-gray-200"),o(Re,"class","flex items-center space-x-3"),o(Oe,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(Ve,"type","button"),o(Ve,"class","btn btn-secondary"),Ve.disabled=r[2],o(Ae,"type","submit"),o(Ae,"class","btn btn-primary flex items-center space-x-2"),Ae.disabled=r[2],o(se,"class","flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"),o(e,"class","space-y-6")},m(P,J){q(P,e,J),a(e,t),a(t,l),a(t,n),a(t,p),$e(p,r[1].name),a(t,m),ie&&ie.m(t,null),a(t,d),a(t,v),a(e,b),a(e,f),a(f,k),a(f,M),a(f,O),$e(O,r[1].description),a(f,H),ce&&ce.m(f,null),a(f,N),a(f,$),a(e,D),a(e,C),a(C,w),a(w,T),a(w,X),a(w,U),a(C,ue),a(C,G),$e(G,r[1].payload_schema),a(C,Se),ne&&ne.m(C,null),a(C,Le),a(C,De),a(e,Ne),a(e,oe),a(oe,Z),a(Z,ee),a(Z,j),a(Z,ae),a(oe,ke),a(oe,fe),$e(fe,r[1].validation_rules),a(oe,S),Y&&Y.m(oe,null),a(oe,R),a(oe,le),a(e,Ee),a(e,Ie),a(Ie,Ce),a(Ie,Be),a(Ie,Re),a(Re,de),de.checked=r[1].is_active,a(Re,dt),a(Re,pe),a(Ie,rt),a(Ie,Oe),a(e,st),a(e,se),a(se,Ve),a(Ve,Ke),a(se,tt),a(se,Ae),Me[_e].m(Ae,null),qe=!0,Qe||(nt=[W(p,"input",r[10]),W(O,"input",r[11]),W(U,"click",r[8]),W(G,"input",r[12]),W(ae,"click",r[9]),W(fe,"input",r[13]),W(de,"change",r[14]),W(Ve,"click",r[7]),W(e,"submit",ml(r[6]))],Qe=!0)},p(P,[J]){J&2&&p.value!==P[1].name&&$e(p,P[1].name),P[3].name?ie?ie.p(P,J):(ie=Rt(P),ie.c(),ie.m(t,d)):ie&&(ie.d(1),ie=null),J&2&&$e(O,P[1].description),P[3].description?ce?ce.p(P,J):(ce=Ft(P),ce.c(),ce.m(f,N)):ce&&(ce.d(1),ce=null),J&2&&$e(G,P[1].payload_schema),P[4]?ne?ne.p(P,J):(ne=qt(P),ne.c(),ne.m(C,Le)):ne&&(ne.d(1),ne=null),J&2&&$e(fe,P[1].validation_rules),P[5]?Y?Y.p(P,J):(Y=Xt(P),Y.c(),Y.m(oe,R)):Y&&(Y.d(1),Y=null),J&2&&(de.checked=P[1].is_active),(!qe||J&4)&&(Ve.disabled=P[2]);let re=_e;_e=ze(P),_e===re?Me[_e].p(P,J):(St(),K(Me[re],1,1,()=>{Me[re]=null}),Vt(),xe=Me[_e],xe?xe.p(P,J):(xe=Me[_e]=mt[_e](P),xe.c()),F(xe,1),xe.m(Ae,null)),(!qe||J&4)&&(Ae.disabled=P[2])},i(P){qe||(F(xe),qe=!0)},o(P){K(xe),qe=!1},d(P){P&&u(e),ie&&ie.d(),ce&&ce.d(),ne&&ne.d(),Y&&Y.d(),Me[_e].d(),Qe=!1,yt(nt)}}}function Il(r,e,t){let{template:l=null}=e;const s=pl();let n={name:(l==null?void 0:l.name)||"",description:(l==null?void 0:l.description)||"",payload_schema:l!=null&&l.payload_schema?JSON.stringify(l.payload_schema,null,2):"",validation_rules:l!=null&&l.validation_rules?JSON.stringify(l.validation_rules,null,2):"",is_active:(l==null?void 0:l.is_active)??!0},p=!1,m={},d="",v="";async function _(){if(t(3,m={}),t(4,d=""),t(5,v=""),!n.name.trim()){t(3,m.name="Template name is required",m);return}if(!n.description.trim()){t(3,m.description="Description is required",m);return}let $;try{n.payload_schema.trim()&&($=JSON.parse(n.payload_schema))}catch{t(4,d="Invalid JSON in payload schema");return}let I;try{n.validation_rules.trim()&&(I=JSON.parse(n.validation_rules))}catch{t(5,v="Invalid JSON in validation rules");return}try{t(2,p=!0);const D={name:n.name.trim(),description:n.description.trim(),payload_schema:$||null,validation_rules:I||null,is_active:n.is_active};l?(await It.updateTemplate(l.id,D),ft.success("Template updated successfully")):(await It.createTemplate(D),ft.success("Template created successfully")),s("success")}catch(D){if(console.error("Form submission error:",D),D.message&&D.message.includes("detail"))try{const C=JSON.parse(D.message);C.detail&&ft.error(C.detail)}catch{ft.error("An error occurred while saving the template")}else ft.error("An error occurred while saving the template")}finally{t(2,p=!1)}}function b(){s("cancel")}function f(){try{if(n.payload_schema.trim()){const $=JSON.parse(n.payload_schema);t(1,n.payload_schema=JSON.stringify($,null,2),n),t(4,d="")}}catch{t(4,d="Invalid JSON format")}}function k(){try{if(n.validation_rules.trim()){const $=JSON.parse(n.validation_rules);t(1,n.validation_rules=JSON.stringify($,null,2),n),t(5,v="")}}catch{t(5,v="Invalid JSON format")}}function y(){n.name=this.value,t(1,n)}function M(){n.description=this.value,t(1,n)}function O(){n.payload_schema=this.value,t(1,n)}function H(){n.validation_rules=this.value,t(1,n)}function N(){n.is_active=this.checked,t(1,n)}return r.$$set=$=>{"template"in $&&t(0,l=$.template)},[l,n,p,m,d,v,_,b,f,k,y,M,O,H,N]}class il extends rl{constructor(e){super(),sl(this,e,Il,Nl,ll,{template:0})}}function Gt(r,e,t){const l=r.slice();l[42]=e[t],l[45]=t;const s=Math.max(1,Math.min(l[4]-4,l[3]-2))+l[45];return l[43]=s,l}function Kt(r,e,t){const l=r.slice();return l[46]=e[t],l}function Ol(r){let e,t,l='<tr><th>Name</th> <th>Description</th> <th>Status</th> <th>Created</th> <th class="text-right">Actions</th></tr>',s,n,p,m=Ot(r[12]()),d=[];for(let _=0;_<m.length;_+=1)d[_]=Qt(Kt(r,m,_));const v=_=>K(d[_],1,1,()=>{d[_]=null});return{c(){e=c("table"),t=c("thead"),t.innerHTML=l,s=E(),n=c("tbody");for(let _=0;_<d.length;_+=1)d[_].c();this.h()},l(_){e=i(_,"TABLE",{class:!0});var b=g(e);t=i(b,"THEAD",{"data-svelte-h":!0}),z(t)!=="svelte-8l2zd9"&&(t.innerHTML=l),s=x(b),n=i(b,"TBODY",{});var f=g(n);for(let k=0;k<d.length;k+=1)d[k].l(f);f.forEach(u),b.forEach(u),this.h()},h(){o(e,"class","table")},m(_,b){q(_,e,b),a(e,t),a(e,s),a(e,n);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(n,null);p=!0},p(_,b){if(b[0]&118784){m=Ot(_[12]());let f;for(f=0;f<m.length;f+=1){const k=Kt(_,m,f);d[f]?(d[f].p(k,b),F(d[f],1)):(d[f]=Qt(k),d[f].c(),F(d[f],1),d[f].m(n,null))}for(St(),f=m.length;f<d.length;f+=1)v(f);Vt()}},i(_){if(!p){for(let b=0;b<m.length;b+=1)F(d[b]);p=!0}},o(_){d=d.filter(Boolean);for(let b=0;b<d.length;b+=1)K(d[b]);p=!1},d(_){_&&u(e),al(d,_)}}}function Sl(r){let e,t,l,s,n="No templates found",p,m,d=r[2]?"Try adjusting your search terms.":"Get started by creating your first template.",v,_,b;t=new xl({props:{class:"mx-auto text-gray-400 mb-4",size:48}});let f=!r[2]&&Yt(r);return{c(){e=c("div"),be(t.$$.fragment),l=E(),s=c("h3"),s.textContent=n,p=E(),m=c("p"),v=B(d),_=E(),f&&f.c(),this.h()},l(k){e=i(k,"DIV",{class:!0});var y=g(e);ge(t.$$.fragment,y),l=x(y),s=i(y,"H3",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-1jx0wpp"&&(s.textContent=n),p=x(y),m=i(y,"P",{class:!0});var M=g(m);v=L(M,d),M.forEach(u),_=x(y),f&&f.l(y),y.forEach(u),this.h()},h(){o(s,"class","text-lg font-medium text-gray-900 dark:text-gray-50 mb-2"),o(m,"class","text-gray-600 dark:text-gray-400 mb-4"),o(e,"class","text-center py-12")},m(k,y){q(k,e,y),ve(t,e,null),a(e,l),a(e,s),a(e,p),a(e,m),a(m,v),a(e,_),f&&f.m(e,null),b=!0},p(k,y){(!b||y[0]&4)&&d!==(d=k[2]?"Try adjusting your search terms.":"Get started by creating your first template.")&&we(v,d),k[2]?f&&(St(),K(f,1,1,()=>{f=null}),Vt()):f?(f.p(k,y),y[0]&4&&F(f,1)):(f=Yt(k),f.c(),F(f,1),f.m(e,null))},i(k){b||(F(t.$$.fragment,k),F(f),b=!0)},o(k){K(t.$$.fragment,k),K(f),b=!1},d(k){k&&u(e),he(t),f&&f.d()}}}function Vl(r){let e,t='<div class="spinner mr-3"></div> <span class="text-gray-600 dark:text-gray-400">Loading templates...</span>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-umrvgm"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex items-center justify-center py-12")},m(l,s){q(l,e,s)},p:Ze,i:Ze,o:Ze,d(l){l&&u(e)}}}function Al(r){let e,t,l;return e=new $l({props:{size:12,class:"mr-1"}}),{c(){be(e.$$.fragment),t=B(`\r
                      Inactive`)},l(s){ge(e.$$.fragment,s),t=L(s,`\r
                      Inactive`)},m(s,n){ve(e,s,n),q(s,t,n),l=!0},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){K(e.$$.fragment,s),l=!1},d(s){s&&u(t),he(e,s)}}}function Pl(r){let e,t,l;return e=new Tl({props:{size:12,class:"mr-1"}}),{c(){be(e.$$.fragment),t=B(`\r
                      Active`)},l(s){ge(e.$$.fragment,s),t=L(s,`\r
                      Active`)},m(s,n){ve(e,s,n),q(s,t,n),l=!0},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){K(e.$$.fragment,s),l=!1},d(s){s&&u(t),he(e,s)}}}function Qt(r){let e,t,l=r[46].name+"",s,n,p,m=r[46].description+"",d,v,_,b,f,k,y,M,O=new Date(r[46].created_at).toLocaleDateString()+"",H,N,$,I,D,C,w,T,A,X,U,te,ue,G,Se,Le;const De=[Pl,Al],ye=[];function Ne(Q,j){return Q[46].is_active?0:1}f=Ne(r),k=ye[f]=De[f](r),C=new El({props:{size:16}});function oe(){return r[21](r[46])}A=new kl({props:{size:16}});function Z(){return r[22](r[46])}te=new ol({props:{size:16}});function ee(){return r[23](r[46])}return{c(){e=c("tr"),t=c("td"),s=B(l),n=E(),p=c("td"),d=B(m),v=E(),_=c("td"),b=c("span"),k.c(),y=E(),M=c("td"),H=B(O),N=E(),$=c("td"),I=c("div"),D=c("button"),be(C.$$.fragment),w=E(),T=c("button"),be(A.$$.fragment),X=E(),U=c("button"),be(te.$$.fragment),ue=E(),this.h()},l(Q){e=i(Q,"TR",{class:!0});var j=g(e);t=i(j,"TD",{class:!0});var ae=g(t);s=L(ae,l),ae.forEach(u),n=x(j),p=i(j,"TD",{class:!0,title:!0});var me=g(p);d=L(me,m),me.forEach(u),v=x(j),_=i(j,"TD",{});var ke=g(_);b=i(ke,"SPAN",{class:!0});var fe=g(b);k.l(fe),fe.forEach(u),ke.forEach(u),y=x(j),M=i(j,"TD",{class:!0});var S=g(M);H=L(S,O),S.forEach(u),N=x(j),$=i(j,"TD",{class:!0});var R=g($);I=i(R,"DIV",{class:!0});var le=g(I);D=i(le,"BUTTON",{class:!0,title:!0});var et=g(D);ge(C.$$.fragment,et),et.forEach(u),w=x(le),T=i(le,"BUTTON",{class:!0,title:!0});var Ee=g(T);ge(A.$$.fragment,Ee),Ee.forEach(u),X=x(le),U=i(le,"BUTTON",{class:!0,title:!0});var Ie=g(U);ge(te.$$.fragment,Ie),Ie.forEach(u),le.forEach(u),R.forEach(u),ue=x(j),j.forEach(u),this.h()},h(){o(t,"class","font-medium text-gray-900 dark:text-gray-50"),o(p,"class","max-w-xs truncate text-gray-600 dark:text-gray-400"),o(p,"title",r[46].description),o(b,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(r[46].is_active?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400")),o(M,"class","text-gray-600 dark:text-gray-400"),o(D,"class","p-1 text-gray-400 hover:text-purple-500 rounded"),o(D,"title","View schema"),o(T,"class","p-1 text-gray-400 hover:text-blue-500 rounded"),o(T,"title","Edit template"),o(U,"class","p-1 text-gray-400 hover:text-red-500 rounded"),o(U,"title","Delete template"),o(I,"class","flex items-center justify-end space-x-2"),o($,"class","text-right"),o(e,"class","hover:bg-gray-50 dark:hover:bg-gray-800")},m(Q,j){q(Q,e,j),a(e,t),a(t,s),a(e,n),a(e,p),a(p,d),a(e,v),a(e,_),a(_,b),ye[f].m(b,null),a(e,y),a(e,M),a(M,H),a(e,N),a(e,$),a($,I),a(I,D),ve(C,D,null),a(I,w),a(I,T),ve(A,T,null),a(I,X),a(I,U),ve(te,U,null),a(e,ue),G=!0,Se||(Le=[W(D,"click",oe),W(T,"click",Z),W(U,"click",ee)],Se=!0)},p(Q,j){r=Q},i(Q){G||(F(k),F(C.$$.fragment,Q),F(A.$$.fragment,Q),F(te.$$.fragment,Q),G=!0)},o(Q){K(k),K(C.$$.fragment,Q),K(A.$$.fragment,Q),K(te.$$.fragment,Q),G=!1},d(Q){Q&&u(e),ye[f].d(),he(C),he(A),he(te),Se=!1,yt(Le)}}}function Yt(r){let e,t,l,s,n="Create Template",p,m,d;return t=new nl({props:{size:18}}),{c(){e=c("button"),be(t.$$.fragment),l=E(),s=c("span"),s.textContent=n,this.h()},l(v){e=i(v,"BUTTON",{class:!0});var _=g(e);ge(t.$$.fragment,_),l=x(_),s=i(_,"SPAN",{"data-svelte-h":!0}),z(s)!=="svelte-1kg22b4"&&(s.textContent=n),_.forEach(u),this.h()},h(){o(e,"class","btn btn-primary flex items-center space-x-2 mx-auto")},m(v,_){q(v,e,_),ve(t,e,null),a(e,l),a(e,s),p=!0,m||(d=W(e,"click",r[13]),m=!0)},p:Ze,i(v){p||(F(t.$$.fragment,v),p=!0)},o(v){K(t.$$.fragment,v),p=!1},d(v){v&&u(e),he(t),m=!1,d()}}}function Wt(r){let e,t,l,s,n,p,m,d,v,_,b,f,k,y,M,O,H,N,$,I,D=Ot(Array(Math.min(5,r[4]))),C=[];for(let w=0;w<D.length;w+=1)C[w]=el(Gt(r,D,w));return{c(){e=c("div"),t=c("button"),l=B("««"),n=E(),p=c("button"),m=B("‹"),v=E(),_=c("div");for(let w=0;w<C.length;w+=1)C[w].c();b=E(),f=c("button"),k=B("›"),M=E(),O=c("button"),H=B("»»"),this.h()},l(w){e=i(w,"DIV",{class:!0});var T=g(e);t=i(T,"BUTTON",{class:!0,title:!0});var A=g(t);l=L(A,"««"),A.forEach(u),n=x(T),p=i(T,"BUTTON",{class:!0,title:!0});var X=g(p);m=L(X,"‹"),X.forEach(u),v=x(T),_=i(T,"DIV",{class:!0});var U=g(_);for(let G=0;G<C.length;G+=1)C[G].l(U);U.forEach(u),b=x(T),f=i(T,"BUTTON",{class:!0,title:!0});var te=g(f);k=L(te,"›"),te.forEach(u),M=x(T),O=i(T,"BUTTON",{class:!0,title:!0});var ue=g(O);H=L(ue,"»»"),ue.forEach(u),T.forEach(u),this.h()},h(){o(t,"class","btn btn-secondary"),t.disabled=s=r[3]===1,o(t,"title","First page"),o(p,"class","btn btn-secondary"),p.disabled=d=r[3]===1,o(p,"title","Previous page"),o(_,"class","flex items-center space-x-1"),o(f,"class","btn btn-secondary"),f.disabled=y=r[3]===r[4],o(f,"title","Next page"),o(O,"class","btn btn-secondary"),O.disabled=N=r[3]===r[4],o(O,"title","Last page"),o(e,"class","flex items-center space-x-2")},m(w,T){q(w,e,T),a(e,t),a(t,l),a(e,n),a(e,p),a(p,m),a(e,v),a(e,_);for(let A=0;A<C.length;A+=1)C[A]&&C[A].m(_,null);a(e,b),a(e,f),a(f,k),a(e,M),a(e,O),a(O,H),$||(I=[W(t,"click",r[26]),W(p,"click",r[27]),W(f,"click",r[29]),W(O,"click",r[30])],$=!0)},p(w,T){if(T[0]&8&&s!==(s=w[3]===1)&&(t.disabled=s),T[0]&8&&d!==(d=w[3]===1)&&(p.disabled=d),T[0]&2072){D=Ot(Array(Math.min(5,w[4])));let A;for(A=0;A<D.length;A+=1){const X=Gt(w,D,A);C[A]?C[A].p(X,T):(C[A]=el(X),C[A].c(),C[A].m(_,null))}for(;A<C.length;A+=1)C[A].d(1);C.length=D.length}T[0]&24&&y!==(y=w[3]===w[4])&&(f.disabled=y),T[0]&24&&N!==(N=w[3]===w[4])&&(O.disabled=N)},d(w){w&&u(e),al(C,w),$=!1,yt(I)}}}function Zt(r){let e,t=r[43]+"",l,s,n,p,m;function d(){return r[28](r[43])}return{c(){e=c("button"),l=B(t),s=E(),this.h()},l(v){e=i(v,"BUTTON",{class:!0});var _=g(e);l=L(_,t),s=x(_),_.forEach(u),this.h()},h(){o(e,"class",n="px-3 py-2 text-sm font-medium rounded-lg border transition-colors "+(r[43]===r[3]?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"))},m(v,_){q(v,e,_),a(e,l),a(e,s),p||(m=W(e,"click",d),p=!0)},p(v,_){r=v,_[0]&24&&t!==(t=r[43]+"")&&we(l,t),_[0]&24&&n!==(n="px-3 py-2 text-sm font-medium rounded-lg border transition-colors "+(r[43]===r[3]?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"))&&o(e,"class",n)},d(v){v&&u(e),p=!1,m()}}}function el(r){let e,t=r[43]<=r[4]&&Zt(r);return{c(){t&&t.c(),e=Ht()},l(l){t&&t.l(l),e=Ht()},m(l,s){t&&t.m(l,s),q(l,e,s)},p(l,s){l[43]<=l[4]?t?t.p(l,s):(t=Zt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&u(e),t&&t.d(l)}}}function Ll(r){let e,t;return e=new il({}),e.$on("success",r[18]),e.$on("cancel",r[31]),{c(){be(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,s){ve(e,l,s),t=!0},p:Ze,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Bl(r){let e,t;return e=new il({props:{template:r[10]}}),e.$on("success",r[18]),e.$on("cancel",r[34]),{c(){be(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,s){ve(e,l,s),t=!0},p(l,s){const n={};s[0]&1024&&(n.template=l[10]),e.$set(n)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function tl(r){var _;let e,t,l="Validation Rules",s,n,p,m,d=JSON.stringify((_=r[10])==null?void 0:_.validation_rules,null,2)+"",v;return{c(){e=c("div"),t=c("h4"),t.textContent=l,s=E(),n=c("div"),p=c("pre"),m=c("code"),v=B(d),this.h()},l(b){e=i(b,"DIV",{});var f=g(e);t=i(f,"H4",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1uab9wh"&&(t.textContent=l),s=x(f),n=i(f,"DIV",{class:!0});var k=g(n);p=i(k,"PRE",{class:!0});var y=g(p);m=i(y,"CODE",{});var M=g(m);v=L(M,d),M.forEach(u),y.forEach(u),k.forEach(u),f.forEach(u),this.h()},h(){o(t,"class","text-md font-medium text-gray-900 dark:text-gray-50 mb-2"),o(p,"class","text-sm text-gray-800 dark:text-gray-200 overflow-x-auto"),o(n,"class","bg-gray-50 dark:bg-gray-800 rounded-lg p-4")},m(b,f){q(b,e,f),a(e,t),a(e,s),a(e,n),a(n,p),a(p,m),a(m,v)},p(b,f){var k;f[0]&1024&&d!==(d=JSON.stringify((k=b[10])==null?void 0:k.validation_rules,null,2)+"")&&we(v,d)},d(b){b&&u(e)}}}function Ml(r){var M,O,H;let e,t,l,s=((M=r[10])==null?void 0:M.name)+"",n,p,m,d,v,_,b=JSON.stringify((O=r[10])==null?void 0:O.payload_schema,null,2)+"",f,k,y=((H=r[10])==null?void 0:H.validation_rules)&&tl(r);return{c(){e=c("div"),t=c("div"),l=c("h3"),n=B(s),p=B(" Schema"),m=E(),d=c("div"),v=c("pre"),_=c("code"),f=B(b),k=E(),y&&y.c(),this.h()},l(N){e=i(N,"DIV",{class:!0});var $=g(e);t=i($,"DIV",{});var I=g(t);l=i(I,"H3",{class:!0});var D=g(l);n=L(D,s),p=L(D," Schema"),D.forEach(u),m=x(I),d=i(I,"DIV",{class:!0});var C=g(d);v=i(C,"PRE",{class:!0});var w=g(v);_=i(w,"CODE",{});var T=g(_);f=L(T,b),T.forEach(u),w.forEach(u),C.forEach(u),I.forEach(u),k=x($),y&&y.l($),$.forEach(u),this.h()},h(){o(l,"class","text-lg font-medium text-gray-900 dark:text-gray-50 mb-2"),o(v,"class","text-sm text-gray-800 dark:text-gray-200 overflow-x-auto"),o(d,"class","bg-gray-50 dark:bg-gray-800 rounded-lg p-4"),o(e,"class","space-y-4")},m(N,$){q(N,e,$),a(e,t),a(t,l),a(l,n),a(l,p),a(t,m),a(t,d),a(d,v),a(v,_),a(_,f),a(e,k),y&&y.m(e,null)},p(N,$){var I,D,C;$[0]&1024&&s!==(s=((I=N[10])==null?void 0:I.name)+"")&&we(n,s),$[0]&1024&&b!==(b=JSON.stringify((D=N[10])==null?void 0:D.payload_schema,null,2)+"")&&we(f,b),(C=N[10])!=null&&C.validation_rules?y?y.p(N,$):(y=tl(N),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(N){N&&u(e),y&&y.d()}}}function Jl(r){let e,t,l="Close",s,n;return{c(){e=c("div"),t=c("button"),t.textContent=l,this.h()},l(p){e=i(p,"DIV",{slot:!0,class:!0});var m=g(e);t=i(m,"BUTTON",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-ujydon"&&(t.textContent=l),m.forEach(u),this.h()},h(){o(t,"class","btn btn-secondary"),o(e,"slot","footer"),o(e,"class","flex justify-end")},m(p,m){q(p,e,m),a(e,t),s||(n=W(t,"click",r[37]),s=!0)},p:Ze,d(p){p&&u(e),s=!1,n()}}}function Ul(r){var D;let e,t,l,s,n,p,m,d,v="Delete Template",_,b,f,k,y=((D=r[10])==null?void 0:D.name)+"",M,O,H,N,$='<p class="text-sm text-yellow-800 dark:text-yellow-200">All licenses using this template will remain but won&#39;t be able to use this template for new licenses.</p>',I;return n=new ol({props:{class:"text-red-600",size:20}}),{c(){e=c("div"),t=c("div"),l=c("div"),s=c("div"),be(n.$$.fragment),p=E(),m=c("div"),d=c("h3"),d.textContent=v,_=E(),b=c("p"),f=B("Are you sure you want to delete "),k=c("strong"),M=B(y),O=B(`?\r
          This action cannot be undone.`),H=E(),N=c("div"),N.innerHTML=$,this.h()},l(C){e=i(C,"DIV",{class:!0});var w=g(e);t=i(w,"DIV",{class:!0});var T=g(t);l=i(T,"DIV",{class:!0});var A=g(l);s=i(A,"DIV",{class:!0});var X=g(s);ge(n.$$.fragment,X),X.forEach(u),A.forEach(u),p=x(T),m=i(T,"DIV",{class:!0});var U=g(m);d=i(U,"H3",{class:!0,"data-svelte-h":!0}),z(d)!=="svelte-vcmrlm"&&(d.textContent=v),_=x(U),b=i(U,"P",{class:!0});var te=g(b);f=L(te,"Are you sure you want to delete "),k=i(te,"STRONG",{});var ue=g(k);M=L(ue,y),ue.forEach(u),O=L(te,`?\r
          This action cannot be undone.`),te.forEach(u),H=x(U),N=i(U,"DIV",{class:!0,"data-svelte-h":!0}),z(N)!=="svelte-1v1n7l3"&&(N.innerHTML=$),U.forEach(u),T.forEach(u),w.forEach(u),this.h()},h(){o(s,"class","w-10 h-10 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center"),o(l,"class","flex-shrink-0"),o(d,"class","text-lg font-medium text-gray-900 dark:text-gray-50"),o(b,"class","text-gray-600 dark:text-gray-400 mt-1"),o(N,"class","mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg"),o(m,"class","flex-1"),o(t,"class","flex items-start space-x-3"),o(e,"class","space-y-4")},m(C,w){q(C,e,w),a(e,t),a(t,l),a(l,s),ve(n,s,null),a(t,p),a(t,m),a(m,d),a(m,_),a(m,b),a(b,f),a(b,k),a(k,M),a(b,O),a(m,H),a(m,N),I=!0},p(C,w){var T;(!I||w[0]&1024)&&y!==(y=((T=C[10])==null?void 0:T.name)+"")&&we(M,y)},i(C){I||(F(n.$$.fragment,C),I=!0)},o(C){K(n.$$.fragment,C),I=!1},d(C){C&&u(e),he(n)}}}function zl(r){let e,t,l="Cancel",s,n,p="Delete Template",m,d;return{c(){e=c("div"),t=c("button"),t.textContent=l,s=E(),n=c("button"),n.textContent=p,this.h()},l(v){e=i(v,"DIV",{slot:!0,class:!0});var _=g(e);t=i(_,"BUTTON",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1k2458d"&&(t.textContent=l),s=x(_),n=i(_,"BUTTON",{class:!0,"data-svelte-h":!0}),z(n)!=="svelte-1g04hk1"&&(n.textContent=p),_.forEach(u),this.h()},h(){o(t,"class","btn btn-secondary"),o(n,"class","btn btn-danger"),o(e,"slot","footer"),o(e,"class","flex justify-end space-x-3")},m(v,_){q(v,e,_),a(e,t),a(e,s),a(e,n),m||(d=[W(t,"click",r[40]),W(n,"click",r[17])],m=!0)},p:Ze,d(v){v&&u(e),m=!1,yt(d)}}}function jl(r){let e,t,l,s,n='<h1 class="text-3xl font-bold text-gray-900 dark:text-gray-50">Templates</h1> <p class="text-gray-600 dark:text-gray-400 mt-2">Manage license templates with JSON schema validation</p>',p,m,d,v,_,b,f,k,y,M="Add Template",O,H,N,$,I,D,C,w,T,A,X,U=r[12]().length+"",te,ue,G=r[0].length+"",Se,Le,De,ye,Ne,oe,Z,ee,Q,j,ae,me,ke,fe="Show:",S,R,le,et="10",Ee,Ie="20",Ce,_t="50",Be,Re="100",de,dt="150",pe,ht="200",rt,Oe,vt="per page",st,se,Ve,Ke=Math.min((r[3]-1)*r[5]+1,r[0].length)+"",tt,Ae,_e=Math.min(r[3]*r[5],r[0].length)+"",xe,qe,Qe=r[0].length+"",nt,ie,ce,ne,Y,mt,Me,ze,P,J,re,je,Je,Pe,He,Ue,Xe,ot;v=new yl({props:{size:18}}),f=new nl({props:{size:18}}),T=new Cl({props:{size:18}});const it=[Vl,Sl,Ol],Fe=[];function gt(h,V){return h[1]?0:(oe==null&&(oe=h[12]().length===0),oe?1:2)}Z=gt(r),ee=Fe[Z]=it[Z](r);let Te=r[4]>1&&Wt(r);function cl(h){r[33](h)}let At={title:"Create New Template",size:"lg",onClose:r[32],$$slots:{default:[Ll]},$$scope:{ctx:r}};r[6]!==void 0&&(At.open=r[6]),Y=new Nt({props:At}),$t.push(()=>Dt(Y,"open",cl));function ul(h){r[36](h)}let Pt={title:"Edit Template",size:"lg",onClose:r[35],$$slots:{default:[Bl]},$$scope:{ctx:r}};r[7]!==void 0&&(Pt.open=r[7]),ze=new Nt({props:Pt}),$t.push(()=>Dt(ze,"open",ul));function fl(h){r[39](h)}let Lt={title:"Template Schema",size:"lg",onClose:r[38],$$slots:{footer:[Jl],default:[Ml]},$$scope:{ctx:r}};r[9]!==void 0&&(Lt.open=r[9]),re=new Nt({props:Lt}),$t.push(()=>Dt(re,"open",fl));function dl(h){r[41](h)}let Bt={title:"Delete Template",size:"sm",$$slots:{footer:[zl],default:[Ul]},$$scope:{ctx:r}};return r[8]!==void 0&&(Bt.open=r[8]),Pe=new Nt({props:Bt}),$t.push(()=>Dt(Pe,"open",dl)),{c(){e=E(),t=c("div"),l=c("div"),s=c("div"),s.innerHTML=n,p=E(),m=c("div"),d=c("button"),be(v.$$.fragment),_=E(),b=c("button"),be(f.$$.fragment),k=E(),y=c("span"),y.textContent=M,O=E(),H=c("div"),N=c("div"),$=c("div"),I=c("div"),D=c("input"),C=E(),w=c("div"),be(T.$$.fragment),A=E(),X=c("div"),te=B(U),ue=B(" of "),Se=B(G),Le=B(" templates"),De=E(),ye=c("div"),Ne=c("div"),ee.c(),Q=E(),j=c("div"),ae=c("div"),me=c("div"),ke=c("label"),ke.textContent=fe,S=E(),R=c("select"),le=c("option"),le.textContent=et,Ee=c("option"),Ee.textContent=Ie,Ce=c("option"),Ce.textContent=_t,Be=c("option"),Be.textContent=Re,de=c("option"),de.textContent=dt,pe=c("option"),pe.textContent=ht,rt=E(),Oe=c("span"),Oe.textContent=vt,st=E(),se=c("div"),Ve=B("Showing "),tt=B(Ke),Ae=B(" to "),xe=B(_e),qe=B(" of "),nt=B(Qe),ie=B(" templates"),ce=E(),Te&&Te.c(),ne=E(),be(Y.$$.fragment),Me=E(),be(ze.$$.fragment),J=E(),be(re.$$.fragment),Je=E(),be(Pe.$$.fragment),this.h()},l(h){hl("svelte-1nd3n7b",document.head).forEach(u),e=x(h),t=i(h,"DIV",{class:!0});var Ge=g(t);l=i(Ge,"DIV",{class:!0});var Ye=g(l);s=i(Ye,"DIV",{"data-svelte-h":!0}),z(s)!=="svelte-1s4jo0i"&&(s.innerHTML=n),p=x(Ye),m=i(Ye,"DIV",{class:!0});var We=g(m);d=i(We,"BUTTON",{class:!0,title:!0});var ct=g(d);ge(v.$$.fragment,ct),ct.forEach(u),_=x(We),b=i(We,"BUTTON",{class:!0});var lt=g(b);ge(f.$$.fragment,lt),k=x(lt),y=i(lt,"SPAN",{"data-svelte-h":!0}),z(y)!=="svelte-160slnt"&&(y.textContent=M),lt.forEach(u),We.forEach(u),Ye.forEach(u),O=x(Ge),H=i(Ge,"DIV",{class:!0});var Mt=g(H);N=i(Mt,"DIV",{class:!0});var kt=g(N);$=i(kt,"DIV",{class:!0});var Ct=g($);I=i(Ct,"DIV",{class:!0});var Jt=g(I);D=i(Jt,"INPUT",{type:!0,placeholder:!0,class:!0}),Jt.forEach(u),C=x(Ct),w=i(Ct,"DIV",{class:!0});var Ut=g(w);ge(T.$$.fragment,Ut),Ut.forEach(u),Ct.forEach(u),A=x(kt),X=i(kt,"DIV",{class:!0});var bt=g(X);te=L(bt,U),ue=L(bt," of "),Se=L(bt,G),Le=L(bt," templates"),bt.forEach(u),kt.forEach(u),Mt.forEach(u),De=x(Ge),ye=i(Ge,"DIV",{class:!0});var xt=g(ye);Ne=i(xt,"DIV",{class:!0});var zt=g(Ne);ee.l(zt),zt.forEach(u),Q=x(xt),j=i(xt,"DIV",{class:!0});var Et=g(j);ae=i(Et,"DIV",{class:!0});var Tt=g(ae);me=i(Tt,"DIV",{class:!0});var pt=g(me);ke=i(pt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(ke)!=="svelte-ql7zxs"&&(ke.textContent=fe),S=x(pt),R=i(pt,"SELECT",{id:!0,class:!0});var ut=g(R);le=i(ut,"OPTION",{"data-svelte-h":!0}),z(le)!=="svelte-18d3dpq"&&(le.textContent=et),Ee=i(ut,"OPTION",{"data-svelte-h":!0}),z(Ee)!=="svelte-1k18a0a"&&(Ee.textContent=Ie),Ce=i(ut,"OPTION",{"data-svelte-h":!0}),z(Ce)!=="svelte-ujtx1y"&&(Ce.textContent=_t),Be=i(ut,"OPTION",{"data-svelte-h":!0}),z(Be)!=="svelte-ic6cau"&&(Be.textContent=Re),de=i(ut,"OPTION",{"data-svelte-h":!0}),z(de)!=="svelte-1nhtptg"&&(de.textContent=dt),pe=i(ut,"OPTION",{"data-svelte-h":!0}),z(pe)!=="svelte-1148cjc"&&(pe.textContent=ht),ut.forEach(u),rt=x(pt),Oe=i(pt,"SPAN",{class:!0,"data-svelte-h":!0}),z(Oe)!=="svelte-1mtc279"&&(Oe.textContent=vt),pt.forEach(u),st=x(Tt),se=i(Tt,"DIV",{class:!0});var at=g(se);Ve=L(at,"Showing "),tt=L(at,Ke),Ae=L(at," to "),xe=L(at,_e),qe=L(at," of "),nt=L(at,Qe),ie=L(at," templates"),at.forEach(u),Tt.forEach(u),ce=x(Et),Te&&Te.l(Et),Et.forEach(u),xt.forEach(u),Ge.forEach(u),ne=x(h),ge(Y.$$.fragment,h),Me=x(h),ge(ze.$$.fragment,h),J=x(h),ge(re.$$.fragment,h),Je=x(h),ge(Pe.$$.fragment,h),this.h()},h(){document.title="Templates - Sigma Permit",o(d,"class","btn btn-primary p-2"),o(d,"title","Refresh"),o(b,"class","btn btn-primary flex items-center space-x-2"),o(m,"class","flex items-center space-x-3"),o(l,"class","flex items-center justify-between"),o(D,"type","text"),o(D,"placeholder","Search templates..."),o(D,"class","form-input w-full"),o(I,"class","relative flex-1"),o(w,"class","ml-2 p-2 text-gray-400 dark:text-gray-500"),o($,"class","flex-1 flex items-center"),o(X,"class","text-sm text-gray-600 dark:text-gray-400"),o(N,"class","flex flex-col sm:flex-row gap-4"),o(H,"class","card p-4"),o(Ne,"class","table-container"),o(ke,"for","pageSize"),o(ke,"class","text-sm text-gray-600 dark:text-gray-400"),le.__value=10,$e(le,le.__value),Ee.__value=20,$e(Ee,Ee.__value),Ce.__value=50,$e(Ce,Ce.__value),Be.__value=100,$e(Be,Be.__value),de.__value=150,$e(de,de.__value),pe.__value=200,$e(pe,pe.__value),o(R,"id","pageSize"),o(R,"class","form-input w-20"),r[5]===void 0&&_l(()=>r[24].call(R)),o(Oe,"class","text-sm text-gray-600 dark:text-gray-400"),o(me,"class","flex items-center space-x-2"),o(se,"class","text-sm text-gray-600 dark:text-gray-400"),o(ae,"class","flex items-center space-x-4"),o(j,"class","flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700"),o(ye,"class","card"),o(t,"class","space-y-6")},m(h,V){q(h,e,V),q(h,t,V),a(t,l),a(l,s),a(l,p),a(l,m),a(m,d),ve(v,d,null),a(m,_),a(m,b),ve(f,b,null),a(b,k),a(b,y),a(t,O),a(t,H),a(H,N),a(N,$),a($,I),a(I,D),$e(D,r[2]),a($,C),a($,w),ve(T,w,null),a(N,A),a(N,X),a(X,te),a(X,ue),a(X,Se),a(X,Le),a(t,De),a(t,ye),a(ye,Ne),Fe[Z].m(Ne,null),a(ye,Q),a(ye,j),a(j,ae),a(ae,me),a(me,ke),a(me,S),a(me,R),a(R,le),a(R,Ee),a(R,Ce),a(R,Be),a(R,de),a(R,pe),jt(R,r[5],!0),a(me,rt),a(me,Oe),a(ae,st),a(ae,se),a(se,Ve),a(se,tt),a(se,Ae),a(se,xe),a(se,qe),a(se,nt),a(se,ie),a(j,ce),Te&&Te.m(j,null),q(h,ne,V),ve(Y,h,V),q(h,Me,V),ve(ze,h,V),q(h,J,V),ve(re,h,V),q(h,Je,V),ve(Pe,h,V),Ue=!0,Xe||(ot=[W(d,"click",r[19]),W(b,"click",r[13]),W(D,"input",r[20]),W(R,"change",r[24]),W(R,"change",r[25])],Xe=!0)},p(h,V){V[0]&4&&D.value!==h[2]&&$e(D,h[2]),(!Ue||V[0]&1)&&G!==(G=h[0].length+"")&&we(Se,G);let Ge=Z;Z=gt(h),Z===Ge?Fe[Z].p(h,V):(St(),K(Fe[Ge],1,1,()=>{Fe[Ge]=null}),Vt(),ee=Fe[Z],ee?ee.p(h,V):(ee=Fe[Z]=it[Z](h),ee.c()),F(ee,1),ee.m(Ne,null)),V[0]&32&&jt(R,h[5]),(!Ue||V[0]&41)&&Ke!==(Ke=Math.min((h[3]-1)*h[5]+1,h[0].length)+"")&&we(tt,Ke),(!Ue||V[0]&41)&&_e!==(_e=Math.min(h[3]*h[5],h[0].length)+"")&&we(xe,_e),(!Ue||V[0]&1)&&Qe!==(Qe=h[0].length+"")&&we(nt,Qe),h[4]>1?Te?Te.p(h,V):(Te=Wt(h),Te.c(),Te.m(j,null)):Te&&(Te.d(1),Te=null);const Ye={};V[0]&64&&(Ye.onClose=h[32]),V[0]&64|V[1]&262144&&(Ye.$$scope={dirty:V,ctx:h}),!mt&&V[0]&64&&(mt=!0,Ye.open=h[6],wt(()=>mt=!1)),Y.$set(Ye);const We={};V[0]&128&&(We.onClose=h[35]),V[0]&1152|V[1]&262144&&(We.$$scope={dirty:V,ctx:h}),!P&&V[0]&128&&(P=!0,We.open=h[7],wt(()=>P=!1)),ze.$set(We);const ct={};V[0]&512&&(ct.onClose=h[38]),V[0]&1536|V[1]&262144&&(ct.$$scope={dirty:V,ctx:h}),!je&&V[0]&512&&(je=!0,ct.open=h[9],wt(()=>je=!1)),re.$set(ct);const lt={};V[0]&1280|V[1]&262144&&(lt.$$scope={dirty:V,ctx:h}),!He&&V[0]&256&&(He=!0,lt.open=h[8],wt(()=>He=!1)),Pe.$set(lt)},i(h){Ue||(F(v.$$.fragment,h),F(f.$$.fragment,h),F(T.$$.fragment,h),F(ee),F(Y.$$.fragment,h),F(ze.$$.fragment,h),F(re.$$.fragment,h),F(Pe.$$.fragment,h),Ue=!0)},o(h){K(v.$$.fragment,h),K(f.$$.fragment,h),K(T.$$.fragment,h),K(ee),K(Y.$$.fragment,h),K(ze.$$.fragment,h),K(re.$$.fragment,h),K(Pe.$$.fragment,h),Ue=!1},d(h){h&&(u(e),u(t),u(ne),u(Me),u(J),u(Je)),he(v),he(f),he(T),Fe[Z].d(),Te&&Te.d(),he(Y,h),he(ze,h),he(re,h),he(Pe,h),Xe=!1,yt(ot)}}}function Hl(r,e,t){let l=[],s=!0,n="",p=1,m=1,d=10,v=!1,_=!1,b=!1,f=!1,k=null;vl(async()=>{sessionStorage.getItem("access_token")&&await y()});async function y(S=1){try{t(1,s=!0),t(3,p=S);const R=await It.getTemplates(S,d);t(0,l=R.items||[]),t(4,m=Math.ceil((R.total||0)/d))}catch(R){console.error("Error loading templates:",R),ft.error("Failed to load templates")}finally{t(1,s=!1)}}function M(){return n?l.filter(S=>S.name.toLowerCase().includes(n.toLowerCase())||S.description.toLowerCase().includes(n.toLowerCase())):l}function O(){t(10,k=null),t(6,v=!0)}function H(S){t(10,k=S),t(7,_=!0)}function N(S){t(10,k=S),t(8,b=!0)}function $(S){t(10,k=S),t(9,f=!0)}async function I(){if(k)try{await It.deleteTemplate(k.id),ft.success(`Template "${k.name}" deleted successfully`),t(8,b=!1),await y(p)}catch(S){console.error("Error deleting template:",S)}}async function D(){t(6,v=!1),t(7,_=!1),setTimeout(()=>y(p),500)}const C=()=>y(p);function w(){n=this.value,t(2,n)}const T=S=>$(S),A=S=>H(S),X=S=>N(S);function U(){d=gl(this),t(5,d)}const te=()=>{t(3,p=1),y(1)},ue=()=>y(1),G=()=>y(p-1),Se=S=>y(S),Le=()=>y(p+1),De=()=>y(m),ye=()=>t(6,v=!1),Ne=()=>t(6,v=!1);function oe(S){v=S,t(6,v)}const Z=()=>t(7,_=!1),ee=()=>t(7,_=!1);function Q(S){_=S,t(7,_)}const j=()=>t(9,f=!1),ae=()=>t(9,f=!1);function me(S){f=S,t(9,f)}const ke=()=>t(8,b=!1);function fe(S){b=S,t(8,b)}return[l,s,n,p,m,d,v,_,b,f,k,y,M,O,H,N,$,I,D,C,w,T,A,X,U,te,ue,G,Se,Le,De,ye,Ne,oe,Z,ee,Q,j,ae,me,ke,fe]}class ea extends rl{constructor(e){super(),sl(this,e,Hl,jl,ll,{},null,[-1,-1])}}export{ea as component};

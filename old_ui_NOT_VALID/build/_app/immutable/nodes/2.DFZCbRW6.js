import{s as tt,u as Fe,v as We,w as ht,x as pt,y as _t,z as xt,d as c,a as Ee,m as o,i as Ye,b as a,o as Ct,g as v,c as n,e as f,p as j,f as Q,j as m,h as i,t as U,q as Vt,n as Ue,r as wt}from"../chunks/BM_9wLIj.js";import{S as at,i as st,d as le,t as T,a as L,m as ne,b as ie,e as oe,c as Tt,g as Lt}from"../chunks/DQoX3H7n.js";import{h as Mt,g as Pt,d as zt,l as Ht,t as At,e as St}from"../chunks/CEGMbthI.js";import{I as yt,g as bt,a as $t}from"../chunks/k9BU4UWw.js";import{B as kt}from"../chunks/DHo8pXtA.js";import{F as Et}from"../chunks/C8OqVKqU.js";import{K as Dt}from"../chunks/CiUCNbTs.js";function jt(d){let t;const l=d[2].default,e=ht(l,d,d[3],null);return{c(){e&&e.c()},l(s){e&&e.l(s)},m(s,r){e&&e.m(s,r),t=!0},p(s,r){e&&e.p&&(!t||r&8)&&pt(e,l,s,s[3],t?xt(l,s[3],r,null):_t(s[3]),null)},i(s){t||(L(e,s),t=!0)},o(s){T(e,s),t=!1},d(s){e&&e.d(s)}}}function Nt(d){let t,l;const e=[{name:"activity"},d[1],{iconNode:d[0]}];let s={$$slots:{default:[jt]},$$scope:{ctx:d}};for(let r=0;r<e.length;r+=1)s=Fe(s,e[r]);return t=new yt({props:s}),{c(){oe(t.$$.fragment)},l(r){ie(t.$$.fragment,r)},m(r,u){ne(t,r,u),l=!0},p(r,[u]){const p=u&3?bt(e,[e[0],u&2&&$t(r[1]),u&1&&{iconNode:r[0]}]):{};u&8&&(p.$$scope={dirty:u,ctx:r}),t.$set(p)},i(r){l||(L(t.$$.fragment,r),l=!0)},o(r){T(t.$$.fragment,r),l=!1},d(r){le(t,r)}}}function qt(d,t,l){let{$$slots:e={},$$scope:s}=t;const r=[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"}]];return d.$$set=u=>{l(1,t=Fe(Fe({},t),We(u))),"$$scope"in u&&l(3,s=u.$$scope)},t=We(t),[r,t,e,s]}class It extends at{constructor(t){super(),st(this,t,qt,Nt,tt,{})}}function Ft(d){let t;const l=d[2].default,e=ht(l,d,d[3],null);return{c(){e&&e.c()},l(s){e&&e.l(s)},m(s,r){e&&e.m(s,r),t=!0},p(s,r){e&&e.p&&(!t||r&8)&&pt(e,l,s,s[3],t?xt(l,s[3],r,null):_t(s[3]),null)},i(s){t||(L(e,s),t=!0)},o(s){T(e,s),t=!1},d(s){e&&e.d(s)}}}function Rt(d){let t,l;const e=[{name:"trending-up"},d[1],{iconNode:d[0]}];let s={$$slots:{default:[Ft]},$$scope:{ctx:d}};for(let r=0;r<e.length;r+=1)s=Fe(s,e[r]);return t=new yt({props:s}),{c(){oe(t.$$.fragment)},l(r){ie(t.$$.fragment,r)},m(r,u){ne(t,r,u),l=!0},p(r,[u]){const p=u&3?bt(e,[e[0],u&2&&$t(r[1]),u&1&&{iconNode:r[0]}]):{};u&8&&(p.$$scope={dirty:u,ctx:r}),t.$set(p)},i(r){l||(L(t.$$.fragment,r),l=!0)},o(r){T(t.$$.fragment,r),l=!1},d(r){le(t,r)}}}function Yt(d,t,l){let{$$slots:e={},$$scope:s}=t;const r=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}],["polyline",{points:"16 7 22 7 22 13"}]];return d.$$set=u=>{l(1,t=Fe(Fe({},t),We(u))),"$$scope"in u&&l(3,s=u.$$scope)},t=We(t),[r,t,e,s]}class Bt extends at{constructor(t){super(),st(this,t,Yt,Rt,tt,{})}}function Gt(d,t,l){const e=d.slice();return e[4]=t[l],e}function Kt(d){let t,l,e,s,r,u="Total Tenants",p,y,D=d[0].tenants.total+"",de,ce,H,ue=d[0].tenants.active+"",xe,De,I,b,N,q,M,W,A,_,F="Templates",X,fe,R=d[0].templates.total+"",Ie,Ce,$,S=d[0].templates.active+"",be,ge,ze,ve,k,Z,me,w,Y,ee,P="Total Licenses",te,he,B=d[0].licenses.total+"",Ve,we,C,He,G=d[0].licenses.recent+"",Te,K,Ae,g,E,V,ae,se,z,pe,Le="System Status",J,re,_e=d[2].status+"",ye,$e,Me,rt="All systems operational",Xe,Pe,ke,Be,O;return N=new kt({props:{class:"text-blue-600",size:24}}),k=new Et({props:{class:"text-purple-600",size:24}}),E=new Dt({props:{class:"text-indigo-600",size:24}}),ke=new It({props:{class:d[2].status==="healthy"?"text-green-600":"text-red-600",size:24}}),{c(){t=i("div"),l=i("div"),e=i("div"),s=i("div"),r=i("p"),r.textContent=u,p=m(),y=i("p"),de=U(D),ce=m(),H=i("p"),xe=U(ue),De=U(" active"),I=m(),b=i("div"),oe(N.$$.fragment),q=m(),M=i("div"),W=i("div"),A=i("div"),_=i("p"),_.textContent=F,X=m(),fe=i("p"),Ie=U(R),Ce=m(),$=i("p"),be=U(S),ge=U(" active"),ze=m(),ve=i("div"),oe(k.$$.fragment),Z=m(),me=i("div"),w=i("div"),Y=i("div"),ee=i("p"),ee.textContent=P,te=m(),he=i("p"),Ve=U(B),we=m(),C=i("p"),He=U("+"),Te=U(G),K=U(" this month"),Ae=m(),g=i("div"),oe(E.$$.fragment),V=m(),ae=i("div"),se=i("div"),z=i("div"),pe=i("p"),pe.textContent=Le,J=m(),re=i("p"),ye=U(_e),$e=m(),Me=i("p"),Me.textContent=rt,Xe=m(),Pe=i("div"),oe(ke.$$.fragment),this.h()},l(h){t=n(h,"DIV",{class:!0});var x=f(t);l=n(x,"DIV",{class:!0});var Re=f(l);e=n(Re,"DIV",{class:!0});var Ge=f(e);s=n(Ge,"DIV",{});var Se=f(s);r=n(Se,"P",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-asmpcv"&&(r.textContent=u),p=v(Se),y=n(Se,"P",{class:!0});var lt=f(y);de=Q(lt,D),lt.forEach(c),ce=v(Se),H=n(Se,"P",{class:!0});var Ze=f(H);xe=Q(Ze,ue),De=Q(Ze," active"),Ze.forEach(c),Se.forEach(c),I=v(Ge),b=n(Ge,"DIV",{class:!0});var nt=f(b);ie(N.$$.fragment,nt),nt.forEach(c),Ge.forEach(c),Re.forEach(c),q=v(x),M=n(x,"DIV",{class:!0});var it=f(M);W=n(it,"DIV",{class:!0});var Ke=f(W);A=n(Ke,"DIV",{});var je=f(A);_=n(je,"P",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-bydeyr"&&(_.textContent=F),X=v(je),fe=n(je,"P",{class:!0});var ot=f(fe);Ie=Q(ot,R),ot.forEach(c),Ce=v(je),$=n(je,"P",{class:!0});var et=f($);be=Q(et,S),ge=Q(et," active"),et.forEach(c),je.forEach(c),ze=v(Ke),ve=n(Ke,"DIV",{class:!0});var dt=f(ve);ie(k.$$.fragment,dt),dt.forEach(c),Ke.forEach(c),it.forEach(c),Z=v(x),me=n(x,"DIV",{class:!0});var ct=f(me);w=n(ct,"DIV",{class:!0});var Je=f(w);Y=n(Je,"DIV",{});var Ne=f(Y);ee=n(Ne,"P",{class:!0,"data-svelte-h":!0}),j(ee)!=="svelte-jsqt14"&&(ee.textContent=P),te=v(Ne),he=n(Ne,"P",{class:!0});var ut=f(he);Ve=Q(ut,B),ut.forEach(c),we=v(Ne),C=n(Ne,"P",{class:!0});var Oe=f(C);He=Q(Oe,"+"),Te=Q(Oe,G),K=Q(Oe," this month"),Oe.forEach(c),Ne.forEach(c),Ae=v(Je),g=n(Je,"DIV",{class:!0});var ft=f(g);ie(E.$$.fragment,ft),ft.forEach(c),Je.forEach(c),ct.forEach(c),V=v(x),ae=n(x,"DIV",{class:!0});var gt=f(ae);se=n(gt,"DIV",{class:!0});var Qe=f(se);z=n(Qe,"DIV",{});var qe=f(z);pe=n(qe,"P",{class:!0,"data-svelte-h":!0}),j(pe)!=="svelte-1de7vlh"&&(pe.textContent=Le),J=v(qe),re=n(qe,"P",{class:!0});var vt=f(re);ye=Q(vt,_e),vt.forEach(c),$e=v(qe),Me=n(qe,"P",{class:!0,"data-svelte-h":!0}),j(Me)!=="svelte-4mezgr"&&(Me.textContent=rt),qe.forEach(c),Xe=v(Qe),Pe=n(Qe,"DIV",{class:!0});var mt=f(Pe);ie(ke.$$.fragment,mt),mt.forEach(c),Qe.forEach(c),gt.forEach(c),x.forEach(c),this.h()},h(){o(r,"class","text-sm font-medium text-gray-600 dark:text-gray-400"),o(y,"class","text-3xl font-bold text-gray-900 dark:text-gray-50"),o(H,"class","text-sm text-green-600"),o(b,"class","p-3 rounded-lg bg-blue-500/10"),o(e,"class","flex items-center justify-between"),o(l,"class","card card-hover p-6"),o(_,"class","text-sm font-medium text-gray-600 dark:text-gray-400"),o(fe,"class","text-3xl font-bold text-gray-900 dark:text-gray-50"),o($,"class","text-sm text-green-600"),o(ve,"class","p-3 rounded-lg bg-purple-500/10"),o(W,"class","flex items-center justify-between"),o(M,"class","card card-hover p-6"),o(ee,"class","text-sm font-medium text-gray-600 dark:text-gray-400"),o(he,"class","text-3xl font-bold text-gray-900 dark:text-gray-50"),o(C,"class","text-sm text-blue-600"),o(g,"class","p-3 rounded-lg bg-indigo-500/10"),o(w,"class","flex items-center justify-between"),o(me,"class","card card-hover p-6"),o(pe,"class","text-sm font-medium text-gray-600 dark:text-gray-400"),o(re,"class","text-3xl font-bold text-gray-900 dark:text-gray-50 capitalize"),o(Me,"class","text-sm text-gray-500 dark:text-gray-400"),o(Pe,"class",Be="p-3 rounded-lg "+(d[2].status==="healthy"?"bg-green-500/10":"bg-red-500/10")),o(se,"class","flex items-center justify-between"),o(ae,"class","card card-hover p-6"),o(t,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6")},m(h,x){Ye(h,t,x),a(t,l),a(l,e),a(e,s),a(s,r),a(s,p),a(s,y),a(y,de),a(s,ce),a(s,H),a(H,xe),a(H,De),a(e,I),a(e,b),ne(N,b,null),a(t,q),a(t,M),a(M,W),a(W,A),a(A,_),a(A,X),a(A,fe),a(fe,Ie),a(A,Ce),a(A,$),a($,be),a($,ge),a(W,ze),a(W,ve),ne(k,ve,null),a(t,Z),a(t,me),a(me,w),a(w,Y),a(Y,ee),a(Y,te),a(Y,he),a(he,Ve),a(Y,we),a(Y,C),a(C,He),a(C,Te),a(C,K),a(w,Ae),a(w,g),ne(E,g,null),a(t,V),a(t,ae),a(ae,se),a(se,z),a(z,pe),a(z,J),a(z,re),a(re,ye),a(z,$e),a(z,Me),a(se,Xe),a(se,Pe),ne(ke,Pe,null),O=!0},p(h,x){(!O||x&1)&&D!==(D=h[0].tenants.total+"")&&Ee(de,D),(!O||x&1)&&ue!==(ue=h[0].tenants.active+"")&&Ee(xe,ue),(!O||x&1)&&R!==(R=h[0].templates.total+"")&&Ee(Ie,R),(!O||x&1)&&S!==(S=h[0].templates.active+"")&&Ee(be,S),(!O||x&1)&&B!==(B=h[0].licenses.total+"")&&Ee(Ve,B),(!O||x&1)&&G!==(G=h[0].licenses.recent+"")&&Ee(Te,G),(!O||x&4)&&_e!==(_e=h[2].status+"")&&Ee(ye,_e);const Re={};x&4&&(Re.class=h[2].status==="healthy"?"text-green-600":"text-red-600"),ke.$set(Re),(!O||x&4&&Be!==(Be="p-3 rounded-lg "+(h[2].status==="healthy"?"bg-green-500/10":"bg-red-500/10")))&&o(Pe,"class",Be)},i(h){O||(L(N.$$.fragment,h),L(k.$$.fragment,h),L(E.$$.fragment,h),L(ke.$$.fragment,h),O=!0)},o(h){T(N.$$.fragment,h),T(k.$$.fragment,h),T(E.$$.fragment,h),T(ke.$$.fragment,h),O=!1},d(h){h&&c(t),le(N),le(k),le(E),le(ke)}}}function Jt(d){let t,l=St(Array(4)),e=[];for(let s=0;s<l.length;s+=1)e[s]=Ot(Gt(d,l,s));return{c(){t=i("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=n(s,"DIV",{class:!0});var r=f(t);for(let u=0;u<e.length;u+=1)e[u].l(r);r.forEach(c),this.h()},h(){o(t,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6")},m(s,r){Ye(s,t,r);for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(t,null)},p:Ue,i:Ue,o:Ue,d(s){s&&c(t),wt(e,s)}}}function Ot(d){let t,l='<div class="animate-pulse"><div class="h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4 mb-2"></div> <div class="h-8 bg-gray-300 dark:bg-gray-600 rounded w-1/2"></div></div> ';return{c(){t=i("div"),t.innerHTML=l,this.h()},l(e){t=n(e,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1hbcrom"&&(t.innerHTML=l),this.h()},h(){o(t,"class","card card-hover p-6")},m(e,s){Ye(e,t,s)},p:Ue,d(e){e&&c(t)}}}function Qt(d){let t,l,e,s,r='<h1 class="text-3xl font-bold text-gray-900 dark:text-gray-50">Dashboard</h1> <p class="text-gray-600 dark:text-gray-400 mt-2">Welcome to Sigma Permit - Your License Management System</p>',u,p,y,D,de,ce,H=d[2].status+"",ue,xe,De,I,b,N,q,M,W="Quick Actions",A,_,F,X,fe,R,Ie='<h3 class="font-medium text-gray-900 dark:text-gray-50">Manage Tenants</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Create and manage tenant organizations</p>',Ce,$,S,be,ge,ze='<h3 class="font-medium text-gray-900 dark:text-gray-50">Manage Templates</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Create license templates with validation</p>',ve,k,Z,me,w,Y='<h3 class="font-medium text-gray-900 dark:text-gray-50">Issue Licenses</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Create and manage license keys</p>',ee,P,te,he,B,Ve='<h3 class="font-medium text-gray-900 dark:text-gray-50">API Documentation</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Explore and test API endpoints</p>',we,C,He='<h2 class="text-xl font-semibold text-gray-900 dark:text-gray-50 mb-4">Getting Started</h2> <div class="space-y-4"><div class="flex items-start space-x-3"><div class="flex-shrink-0 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium">1</div> <div><h3 class="font-medium text-gray-900 dark:text-gray-50">Create Your First Tenant</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Start by creating a tenant organization to represent your client or department.</p></div></div> <div class="flex items-start space-x-3"><div class="flex-shrink-0 w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium">2</div> <div><h3 class="font-medium text-gray-900 dark:text-gray-50">Set Up License Templates</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Create reusable templates with JSON schemas to standardize your license formats.</p></div></div> <div class="flex items-start space-x-3"><div class="flex-shrink-0 w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center text-white text-sm font-medium">3</div> <div><h3 class="font-medium text-gray-900 dark:text-gray-50">Issue Your First License</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Generate license keys for your tenants using the templates you&#39;ve created.</p></div></div></div>',G;D=new It({props:{size:16}});const Te=[Jt,Kt],K=[];function Ae(g,E){return g[1]?0:1}return I=Ae(d),b=K[I]=Te[I](d),X=new kt({props:{class:"text-blue-500 mr-3",size:20}}),S=new Et({props:{class:"text-purple-500 mr-3",size:20}}),Z=new Dt({props:{class:"text-indigo-500 mr-3",size:20}}),te=new Bt({props:{class:"text-green-500 mr-3",size:20}}),{c(){t=m(),l=i("div"),e=i("div"),s=i("div"),s.innerHTML=r,u=m(),p=i("div"),y=i("div"),oe(D.$$.fragment),de=m(),ce=i("span"),ue=U(H),De=m(),b.c(),N=m(),q=i("div"),M=i("h2"),M.textContent=W,A=m(),_=i("div"),F=i("a"),oe(X.$$.fragment),fe=m(),R=i("div"),R.innerHTML=Ie,Ce=m(),$=i("a"),oe(S.$$.fragment),be=m(),ge=i("div"),ge.innerHTML=ze,ve=m(),k=i("a"),oe(Z.$$.fragment),me=m(),w=i("div"),w.innerHTML=Y,ee=m(),P=i("a"),oe(te.$$.fragment),he=m(),B=i("div"),B.innerHTML=Ve,we=m(),C=i("div"),C.innerHTML=He,this.h()},l(g){Ct("svelte-1gtf7gc",document.head).forEach(c),t=v(g),l=n(g,"DIV",{class:!0});var V=f(l);e=n(V,"DIV",{class:!0});var ae=f(e);s=n(ae,"DIV",{"data-svelte-h":!0}),j(s)!=="svelte-1cel22e"&&(s.innerHTML=r),u=v(ae),p=n(ae,"DIV",{class:!0});var se=f(p);y=n(se,"DIV",{class:!0});var z=f(y);ie(D.$$.fragment,z),de=v(z),ce=n(z,"SPAN",{class:!0});var pe=f(ce);ue=Q(pe,H),pe.forEach(c),z.forEach(c),se.forEach(c),ae.forEach(c),De=v(V),b.l(V),N=v(V),q=n(V,"DIV",{class:!0});var Le=f(q);M=n(Le,"H2",{class:!0,"data-svelte-h":!0}),j(M)!=="svelte-1yr8630"&&(M.textContent=W),A=v(Le),_=n(Le,"DIV",{class:!0});var J=f(_);F=n(J,"A",{href:!0,class:!0});var re=f(F);ie(X.$$.fragment,re),fe=v(re),R=n(re,"DIV",{"data-svelte-h":!0}),j(R)!=="svelte-37tkwt"&&(R.innerHTML=Ie),re.forEach(c),Ce=v(J),$=n(J,"A",{href:!0,class:!0});var _e=f($);ie(S.$$.fragment,_e),be=v(_e),ge=n(_e,"DIV",{"data-svelte-h":!0}),j(ge)!=="svelte-1811jfw"&&(ge.innerHTML=ze),_e.forEach(c),ve=v(J),k=n(J,"A",{href:!0,class:!0});var ye=f(k);ie(Z.$$.fragment,ye),me=v(ye),w=n(ye,"DIV",{"data-svelte-h":!0}),j(w)!=="svelte-q1diw7"&&(w.innerHTML=Y),ye.forEach(c),ee=v(J),P=n(J,"A",{href:!0,target:!0,rel:!0,class:!0});var $e=f(P);ie(te.$$.fragment,$e),he=v($e),B=n($e,"DIV",{"data-svelte-h":!0}),j(B)!=="svelte-1sm4qof"&&(B.innerHTML=Ve),$e.forEach(c),J.forEach(c),Le.forEach(c),we=v(V),C=n(V,"DIV",{class:!0,"data-svelte-h":!0}),j(C)!=="svelte-1ittetu"&&(C.innerHTML=He),V.forEach(c),this.h()},h(){document.title="Dashboard - Sigma Permit",o(ce,"class","capitalize"),o(y,"class",xe="flex items-center space-x-2 px-3 py-1 rounded-full text-sm "+(d[2].status==="healthy"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600")),o(p,"class","flex items-center space-x-2"),o(e,"class","flex items-center justify-between"),o(M,"class","text-xl font-semibold text-gray-900 dark:text-gray-50 mb-4"),o(F,"href","/tenants"),o(F,"class","flex items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"),o($,"href","/templates"),o($,"class","flex items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"),o(k,"href","/licenses"),o(k,"class","flex items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"),o(P,"href","/docs"),o(P,"target","_blank"),o(P,"rel","noopener noreferrer"),o(P,"class","flex items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"),o(_,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"),o(q,"class","card p-6"),o(C,"class","card p-6"),o(l,"class","space-y-8")},m(g,E){Ye(g,t,E),Ye(g,l,E),a(l,e),a(e,s),a(e,u),a(e,p),a(p,y),ne(D,y,null),a(y,de),a(y,ce),a(ce,ue),a(l,De),K[I].m(l,null),a(l,N),a(l,q),a(q,M),a(q,A),a(q,_),a(_,F),ne(X,F,null),a(F,fe),a(F,R),a(_,Ce),a(_,$),ne(S,$,null),a($,be),a($,ge),a(_,ve),a(_,k),ne(Z,k,null),a(k,me),a(k,w),a(_,ee),a(_,P),ne(te,P,null),a(P,he),a(P,B),a(l,we),a(l,C),G=!0},p(g,[E]){(!G||E&4)&&H!==(H=g[2].status+"")&&Ee(ue,H),(!G||E&4&&xe!==(xe="flex items-center space-x-2 px-3 py-1 rounded-full text-sm "+(g[2].status==="healthy"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600")))&&o(y,"class",xe);let V=I;I=Ae(g),I===V?K[I].p(g,E):(Lt(),T(K[V],1,1,()=>{K[V]=null}),Tt(),b=K[I],b?b.p(g,E):(b=K[I]=Te[I](g),b.c()),L(b,1),b.m(l,N))},i(g){G||(L(D.$$.fragment,g),L(b),L(X.$$.fragment,g),L(S.$$.fragment,g),L(Z.$$.fragment,g),L(te.$$.fragment,g),G=!0)},o(g){T(D.$$.fragment,g),T(b),T(X.$$.fragment,g),T(S.$$.fragment,g),T(Z.$$.fragment,g),T(te.$$.fragment,g),G=!1},d(g){g&&(c(t),c(l)),le(D),K[I].d(),le(X),le(S),le(Z),le(te)}}}function Ut(d,t,l){let e={tenants:{total:0,active:0},templates:{total:0,active:0},licenses:{total:0,recent:0}},s=!0,r={status:"unknown"};Vt(async()=>{await u()});async function u(){try{l(1,s=!0);try{const de=await Mt.check();l(2,r={status:"healthy"})}catch{l(2,r={status:"unhealthy"})}const[p,y,D]=await Promise.allSettled([Pt.getTenants(1,1),zt.getTemplates(1,1),Ht.getLicenses(1,1)]);p.status==="fulfilled"&&(l(0,e.tenants.total=p.value.total||0,e),l(0,e.tenants.active=0,e)),y.status==="fulfilled"&&(l(0,e.templates.total=y.value.total||0,e),l(0,e.templates.active=0,e)),D.status==="fulfilled"&&(l(0,e.licenses.total=D.value.total||0,e),l(0,e.licenses.recent=0,e))}catch(p){console.error("Error loading dashboard data:",p),At.error("Failed to load dashboard data")}finally{l(1,s=!1)}}return[e,s,r]}class ra extends at{constructor(t){super(),st(this,t,Ut,Qt,tt,{})}}export{ra as component};

import{s as Gt,u as At,v as Ht,w as pl,x as hl,y as gl,z as vl,d,B as Lt,F as ie,i as ee,b as a,l as le,G as Pl,m as o,c as u,e as v,p as O,g as k,f as F,h as c,j as y,t as G,I as Ul,a as je,n as ct,A as Qt,J as tl,C as Xt,K as Dl,o as Il,q as Nl,r as bl,L as Al,M as ll}from"../chunks/BM_9wLIj.js";import{S as Jt,i as Kt,d as de,t as S,a as L,m as _e,b as me,e as pe,g as vt,c as bt,f as Yt}from"../chunks/DQoX3H7n.js";import{c as Rt,t as gt,e as Ft}from"../chunks/CEGMbthI.js";import{M as Zt}from"../chunks/8TY9-p5I.js";import{L as Ll}from"../chunks/DdsxKvKa.js";import{E as kl}from"../chunks/BSkdOch9.js";import{E as yl}from"../chunks/DkGKUkHf.js";import{R as Vl,P as wl,T as Cl,S as Sl}from"../chunks/lZ7b4qBu.js";import{S as Bl}from"../chunks/CrTZofgC.js";import{U as ql}from"../chunks/UAf1AJZG.js";import{I as xl,g as El,a as $l}from"../chunks/k9BU4UWw.js";import{S as Ml}from"../chunks/Dt9VPqQw.js";import{U as Ol}from"../chunks/wIpm3dzG.js";function zl(s){let e;const t=s[2].default,l=pl(t,s,s[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&hl(l,t,n,n[3],e?vl(t,n[3],r,null):gl(n[3]),null)},i(n){e||(L(l,n),e=!0)},o(n){S(l,n),e=!1},d(n){l&&l.d(n)}}}function jl(s){let e,t;const l=[{name:"shield-check"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[zl]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)n=At(n,l[r]);return e=new xl({props:n}),{c(){pe(e.$$.fragment)},l(r){me(e.$$.fragment,r)},m(r,i){_e(e,r,i),t=!0},p(r,[i]){const f=i&3?El(l,[l[0],i&2&&$l(r[1]),i&1&&{iconNode:r[0]}]):{};i&8&&(f.$$scope={dirty:i,ctx:r}),e.$set(f)},i(r){t||(L(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Hl(s,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"m9 12 2 2 4-4"}]];return s.$$set=i=>{t(1,e=At(At({},e),Ht(i))),"$$scope"in i&&t(3,n=i.$$scope)},e=Ht(e),[r,e,l,n]}class Rl extends Jt{constructor(e){super(),Kt(this,e,Hl,jl,Gt,{})}}function Fl(s){let e;const t=s[2].default,l=pl(t,s,s[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&hl(l,t,n,n[3],e?vl(t,n[3],r,null):gl(n[3]),null)},i(n){e||(L(l,n),e=!0)},o(n){S(l,n),e=!1},d(n){l&&l.d(n)}}}function Gl(s){let e,t;const l=[{name:"user-x"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Fl]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)n=At(n,l[r]);return e=new xl({props:n}),{c(){pe(e.$$.fragment)},l(r){me(e.$$.fragment,r)},m(r,i){_e(e,r,i),t=!0},p(r,[i]){const f=i&3?El(l,[l[0],i&2&&$l(r[1]),i&1&&{iconNode:r[0]}]):{};i&8&&(f.$$scope={dirty:i,ctx:r}),e.$set(f)},i(r){t||(L(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Jl(s,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13"}]];return s.$$set=i=>{t(1,e=At(At({},e),Ht(i))),"$$scope"in i&&t(3,n=i.$$scope)},e=Ht(e),[r,e,l,n]}class Kl extends Jt{constructor(e){super(),Kt(this,e,Jl,Gl,Gt,{})}}function rl(s){let e,t=s[5].username+"",l;return{c(){e=c("p"),l=G(t),this.h()},l(n){e=u(n,"P",{class:!0});var r=v(e);l=F(r,t),r.forEach(d),this.h()},h(){o(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(n,r){ee(n,e,r),a(e,l)},p(n,r){r&32&&t!==(t=n[5].username+"")&&je(l,t)},d(n){n&&d(e)}}}function sl(s){let e,t=s[5].email+"",l;return{c(){e=c("p"),l=G(t),this.h()},l(n){e=u(n,"P",{class:!0});var r=v(e);l=F(r,t),r.forEach(d),this.h()},h(){o(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(n,r){ee(n,e,r),a(e,l)},p(n,r){r&32&&t!==(t=n[5].email+"")&&je(l,t)},d(n){n&&d(e)}}}function al(s){let e,t,l,n=s[0]?"New Password":"Password",r,i,f,m,p,_,b,h,x,C,z="Minimum 8 characters",j,B,U,W="Confirm Password",Q,N,D,$,w,T,H,X,A,R="Re-enter password to confirm",J,ae,ve;function Ie(I,Z){return I[6]?Xl:Ql}let re=Ie(s),K=re(s);const Ce=[Zl,Yl],ne=[];function ue(I,Z){return I[6]?0:1}_=ue(s),b=ne[_]=Ce[_](s);let E=s[5].password&&nl(s);function he(I,Z){return I[7]?er:Wl}let ce=he(s),oe=ce(s);const Ne=[lr,tr],be=[];function Y(I,Z){return I[7]?0:1}w=Y(s),T=be[w]=Ne[w](s);let P=s[5].confirmPassword&&ol(s);return{c(){e=c("div"),t=c("div"),l=c("label"),r=G(n),i=y(),f=c("div"),K.c(),m=y(),p=c("button"),b.c(),h=y(),E&&E.c(),x=y(),C=c("p"),C.textContent=z,j=y(),B=c("div"),U=c("label"),U.textContent=W,Q=y(),N=c("div"),oe.c(),D=y(),$=c("button"),T.c(),H=y(),P&&P.c(),X=y(),A=c("p"),A.textContent=R,this.h()},l(I){e=u(I,"DIV",{class:!0});var Z=v(e);t=u(Z,"DIV",{});var se=v(t);l=u(se,"LABEL",{for:!0,class:!0});var xe=v(l);r=F(xe,n),xe.forEach(d),i=k(se),f=u(se,"DIV",{class:!0});var Ee=v(f);K.l(Ee),m=k(Ee),p=u(Ee,"BUTTON",{type:!0,class:!0});var Ye=v(p);b.l(Ye),Ye.forEach(d),Ee.forEach(d),h=k(se),E&&E.l(se),x=k(se),C=u(se,"P",{class:!0,"data-svelte-h":!0}),O(C)!=="svelte-aq9l1t"&&(C.textContent=z),se.forEach(d),j=k(Z),B=u(Z,"DIV",{});var te=v(B);U=u(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(U)!=="svelte-1f0nq9o"&&(U.textContent=W),Q=k(te),N=u(te,"DIV",{class:!0});var ye=v(N);oe.l(ye),D=k(ye),$=u(ye,"BUTTON",{type:!0,class:!0});var Ze=v($);T.l(Ze),Ze.forEach(d),ye.forEach(d),H=k(te),P&&P.l(te),X=k(te),A=u(te,"P",{class:!0,"data-svelte-h":!0}),O(A)!=="svelte-ys19nt"&&(A.textContent=R),te.forEach(d),Z.forEach(d),this.h()},h(){o(l,"for","password"),o(l,"class","form-label"),o(p,"type","button"),o(p,"class","absolute inset-y-0 right-0 pr-3 flex items-center"),o(f,"class","relative"),o(C,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(U,"for","confirmPassword"),o(U,"class","form-label"),o($,"type","button"),o($,"class","absolute inset-y-0 right-0 pr-3 flex items-center"),o(N,"class","relative"),o(A,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(e,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(I,Z){ee(I,e,Z),a(e,t),a(t,l),a(l,r),a(t,i),a(t,f),K.m(f,null),a(f,m),a(f,p),ne[_].m(p,null),a(t,h),E&&E.m(t,null),a(t,x),a(t,C),a(e,j),a(e,B),a(B,U),a(B,Q),a(B,N),oe.m(N,null),a(N,D),a(N,$),be[w].m($,null),a(B,H),P&&P.m(B,null),a(B,X),a(B,A),J=!0,ae||(ve=[le(p,"click",s[15]),le($,"click",s[18])],ae=!0)},p(I,Z){(!J||Z&1)&&n!==(n=I[0]?"New Password":"Password")&&je(r,n),re===(re=Ie(I))&&K?K.p(I,Z):(K.d(1),K=re(I),K&&(K.c(),K.m(f,m)));let se=_;_=ue(I),_!==se&&(vt(),S(ne[se],1,1,()=>{ne[se]=null}),bt(),b=ne[_],b||(b=ne[_]=Ce[_](I),b.c()),L(b,1),b.m(p,null)),I[5].password?E?E.p(I,Z):(E=nl(I),E.c(),E.m(t,x)):E&&(E.d(1),E=null),ce===(ce=he(I))&&oe?oe.p(I,Z):(oe.d(1),oe=ce(I),oe&&(oe.c(),oe.m(N,D)));let xe=w;w=Y(I),w!==xe&&(vt(),S(be[xe],1,1,()=>{be[xe]=null}),bt(),T=be[w],T||(T=be[w]=Ne[w](I),T.c()),L(T,1),T.m($,null)),I[5].confirmPassword?P?P.p(I,Z):(P=ol(I),P.c(),P.m(B,X)):P&&(P.d(1),P=null)},i(I){J||(L(b),L(T),J=!0)},o(I){S(b),S(T),J=!1},d(I){I&&d(e),K.d(),ne[_].d(),E&&E.d(),oe.d(),be[w].d(),P&&P.d(),ae=!1,Lt(ve)}}}function Ql(s){let e,t,l,n;return{c(){e=c("input"),this.h()},l(r){e=u(r,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,minlength:!0}),this.h()},h(){o(e,"type","password"),o(e,"id","password"),o(e,"class","form-input pr-10"),o(e,"placeholder","Enter password"),e.required=t=!s[0],o(e,"minlength","8")},m(r,i){ee(r,e,i),ie(e,s[1]),l||(n=le(e,"input",s[14]),l=!0)},p(r,i){i&1&&t!==(t=!r[0])&&(e.required=t),i&2&&e.value!==r[1]&&ie(e,r[1])},d(r){r&&d(e),l=!1,n()}}}function Xl(s){let e,t,l,n;return{c(){e=c("input"),this.h()},l(r){e=u(r,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,minlength:!0}),this.h()},h(){o(e,"type","text"),o(e,"id","password"),o(e,"class","form-input pr-10"),o(e,"placeholder","Enter password"),e.required=t=!s[0],o(e,"minlength","8")},m(r,i){ee(r,e,i),ie(e,s[1]),l||(n=le(e,"input",s[13]),l=!0)},p(r,i){i&1&&t!==(t=!r[0])&&(e.required=t),i&2&&e.value!==r[1]&&ie(e,r[1])},d(r){r&&d(e),l=!1,n()}}}function Yl(s){let e,t;return e=new yl({props:{class:"h-5 w-5 text-gray-400"}}),{c(){pe(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){_e(e,l,n),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Zl(s){let e,t;return e=new kl({props:{class:"h-5 w-5 text-gray-400"}}),{c(){pe(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){_e(e,l,n),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function nl(s){let e,t=s[5].password+"",l;return{c(){e=c("p"),l=G(t),this.h()},l(n){e=u(n,"P",{class:!0});var r=v(e);l=F(r,t),r.forEach(d),this.h()},h(){o(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(n,r){ee(n,e,r),a(e,l)},p(n,r){r&32&&t!==(t=n[5].password+"")&&je(l,t)},d(n){n&&d(e)}}}function Wl(s){let e,t,l,n;return{c(){e=c("input"),this.h()},l(r){e=u(r,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,minlength:!0}),this.h()},h(){o(e,"type","password"),o(e,"id","confirmPassword"),o(e,"class","form-input pr-10"),o(e,"placeholder","Confirm password"),e.required=t=!s[0],o(e,"minlength","8")},m(r,i){ee(r,e,i),ie(e,s[2]),l||(n=le(e,"input",s[17]),l=!0)},p(r,i){i&1&&t!==(t=!r[0])&&(e.required=t),i&4&&e.value!==r[2]&&ie(e,r[2])},d(r){r&&d(e),l=!1,n()}}}function er(s){let e,t,l,n;return{c(){e=c("input"),this.h()},l(r){e=u(r,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,minlength:!0}),this.h()},h(){o(e,"type","text"),o(e,"id","confirmPassword"),o(e,"class","form-input pr-10"),o(e,"placeholder","Confirm password"),e.required=t=!s[0],o(e,"minlength","8")},m(r,i){ee(r,e,i),ie(e,s[2]),l||(n=le(e,"input",s[16]),l=!0)},p(r,i){i&1&&t!==(t=!r[0])&&(e.required=t),i&4&&e.value!==r[2]&&ie(e,r[2])},d(r){r&&d(e),l=!1,n()}}}function tr(s){let e,t;return e=new yl({props:{class:"h-5 w-5 text-gray-400"}}),{c(){pe(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){_e(e,l,n),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function lr(s){let e,t;return e=new kl({props:{class:"h-5 w-5 text-gray-400"}}),{c(){pe(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){_e(e,l,n),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function ol(s){let e,t=s[5].confirmPassword+"",l;return{c(){e=c("p"),l=G(t),this.h()},l(n){e=u(n,"P",{class:!0});var r=v(e);l=F(r,t),r.forEach(d),this.h()},h(){o(e,"class","mt-1 text-sm text-red-600 dark:text-red-400")},m(n,r){ee(n,e,r),a(e,l)},p(n,r){r&32&&t!==(t=n[5].confirmPassword+"")&&je(l,t)},d(n){n&&d(e)}}}function rr(s){let e,t=s[0]?"Update User":"Create User",l;return{c(){e=c("span"),l=G(t)},l(n){e=u(n,"SPAN",{});var r=v(e);l=F(r,t),r.forEach(d)},m(n,r){ee(n,e,r),a(e,l)},p(n,r){r&1&&t!==(t=n[0]?"Update User":"Create User")&&je(l,t)},i:ct,o:ct,d(n){n&&d(e)}}}function sr(s){let e,t,l,n=s[0]?"Updating...":"Creating...",r,i;return e=new Ll({props:{size:16,class:"animate-spin"}}),{c(){pe(e.$$.fragment),t=y(),l=c("span"),r=G(n)},l(f){me(e.$$.fragment,f),t=k(f),l=u(f,"SPAN",{});var m=v(l);r=F(m,n),m.forEach(d)},m(f,m){_e(e,f,m),ee(f,t,m),ee(f,l,m),a(l,r),i=!0},p(f,m){(!i||m&1)&&n!==(n=f[0]?"Updating...":"Creating...")&&je(r,n)},i(f){i||(L(e.$$.fragment,f),i=!0)},o(f){S(e.$$.fragment,f),i=!1},d(f){f&&(d(t),d(l)),de(e,f)}}}function ar(s){let e,t,l,n,r="Username",i,f,m,p,_,b,h="Unique username (letters, numbers, underscores, hyphens only)",x,C,z,j="Email Address",B,U,W,Q,N,D="User's email address",$,w,T,H="Full Name",X,A,R,J,ae="User's full display name (optional)",ve,Ie,re,K,Ce,ne="Avatar URL",ue,E,he,ce,oe="URL to user's profile picture (optional)",Ne,be,Y,P="Phone Number",I,Z,se,xe,Ee="User's phone number (optional)",Ye,te,ye,Ze="Bio",qe,Me,ft,$e,kt="Short biography or description (optional)",at,Se,tt,ot="Permissions",it,He,Re,dt="Account Status",_t,We,Oe,Fe,et,mt="Active account",Ge,lt,pt="Inactive users cannot log in to the system",Je,Ke,Ae,yt="Administrator Access",wt,rt,De,Ct,fe,qt="Superuser (Administrator)",xt,nt,Vt="Administrators have full access to all system features and user management",St,st,g,q,Qe,Pe,ke,Te,Ve,Et,ht,we=s[5].username&&rl(s),Ue=s[5].email&&sl(s),ge=(!s[0]||s[3].password)&&al(s);const ut=[sr,rr],Xe=[];function Bt(V,M){return V[4]?0:1}return ke=Bt(s),Te=Xe[ke]=ut[ke](s),{c(){e=c("form"),t=c("div"),l=c("div"),n=c("label"),n.textContent=r,i=y(),f=c("input"),p=y(),we&&we.c(),_=y(),b=c("p"),b.textContent=h,x=y(),C=c("div"),z=c("label"),z.textContent=j,B=y(),U=c("input"),W=y(),Ue&&Ue.c(),Q=y(),N=c("p"),N.textContent=D,$=y(),w=c("div"),T=c("label"),T.textContent=H,X=y(),A=c("input"),R=y(),J=c("p"),J.textContent=ae,ve=y(),ge&&ge.c(),Ie=y(),re=c("div"),K=c("div"),Ce=c("label"),Ce.textContent=ne,ue=y(),E=c("input"),he=y(),ce=c("p"),ce.textContent=oe,Ne=y(),be=c("div"),Y=c("label"),Y.textContent=P,I=y(),Z=c("input"),se=y(),xe=c("p"),xe.textContent=Ee,Ye=y(),te=c("div"),ye=c("label"),ye.textContent=Ze,qe=y(),Me=c("textarea"),ft=y(),$e=c("p"),$e.textContent=kt,at=y(),Se=c("div"),tt=c("h3"),tt.textContent=ot,it=y(),He=c("div"),Re=c("label"),Re.textContent=dt,_t=y(),We=c("div"),Oe=c("input"),Fe=y(),et=c("label"),et.textContent=mt,Ge=y(),lt=c("p"),lt.textContent=pt,Je=y(),Ke=c("div"),Ae=c("label"),Ae.textContent=yt,wt=y(),rt=c("div"),De=c("input"),Ct=y(),fe=c("label"),fe.textContent=qt,xt=y(),nt=c("p"),nt.textContent=Vt,St=y(),st=c("div"),g=c("button"),q=G("Cancel"),Qe=y(),Pe=c("button"),Te.c(),this.h()},l(V){e=u(V,"FORM",{class:!0});var M=v(e);t=u(M,"DIV",{class:!0});var Be=v(t);l=u(Be,"DIV",{});var ze=v(l);n=u(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(n)!=="svelte-1f7p7ai"&&(n.textContent=r),i=k(ze),f=u(ze,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),p=k(ze),we&&we.l(ze),_=k(ze),b=u(ze,"P",{class:!0,"data-svelte-h":!0}),O(b)!=="svelte-1esq0im"&&(b.textContent=h),ze.forEach(d),x=k(Be),C=u(Be,"DIV",{});var Le=v(C);z=u(Le,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(z)!=="svelte-1pc0iwm"&&(z.textContent=j),B=k(Le),U=u(Le,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),W=k(Le),Ue&&Ue.l(Le),Q=k(Le),N=u(Le,"P",{class:!0,"data-svelte-h":!0}),O(N)!=="svelte-13rg776"&&(N.textContent=D),Le.forEach(d),Be.forEach(d),$=k(M),w=u(M,"DIV",{});var $t=v(w);T=u($t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(T)!=="svelte-1pfhrql"&&(T.textContent=H),X=k($t),A=u($t,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),R=k($t),J=u($t,"P",{class:!0,"data-svelte-h":!0}),O(J)!=="svelte-1706c93"&&(J.textContent=ae),$t.forEach(d),ve=k(M),ge&&ge.l(M),Ie=k(M),re=u(M,"DIV",{class:!0});var Mt=v(re);K=u(Mt,"DIV",{});var Tt=v(K);Ce=u(Tt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(Ce)!=="svelte-1j10wt1"&&(Ce.textContent=ne),ue=k(Tt),E=u(Tt,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),he=k(Tt),ce=u(Tt,"P",{class:!0,"data-svelte-h":!0}),O(ce)!=="svelte-1j296n4"&&(ce.textContent=oe),Tt.forEach(d),Ne=k(Mt),be=u(Mt,"DIV",{});var Pt=v(be);Y=u(Pt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(Y)!=="svelte-r5usgh"&&(Y.textContent=P),I=k(Pt),Z=u(Pt,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),se=k(Pt),xe=u(Pt,"P",{class:!0,"data-svelte-h":!0}),O(xe)!=="svelte-e6mt0q"&&(xe.textContent=Ee),Pt.forEach(d),Mt.forEach(d),Ye=k(M),te=u(M,"DIV",{});var Ut=v(te);ye=u(Ut,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(ye)!=="svelte-iuui6i"&&(ye.textContent=Ze),qe=k(Ut),Me=u(Ut,"TEXTAREA",{id:!0,class:!0,placeholder:!0,rows:!0}),v(Me).forEach(d),ft=k(Ut),$e=u(Ut,"P",{class:!0,"data-svelte-h":!0}),O($e)!=="svelte-1rgkol4"&&($e.textContent=kt),Ut.forEach(d),at=k(M),Se=u(M,"DIV",{class:!0});var Dt=v(Se);tt=u(Dt,"H3",{class:!0,"data-svelte-h":!0}),O(tt)!=="svelte-jys3ql"&&(tt.textContent=ot),it=k(Dt),He=u(Dt,"DIV",{});var It=v(He);Re=u(It,"LABEL",{class:!0,"data-svelte-h":!0}),O(Re)!=="svelte-1w2dd33"&&(Re.textContent=dt),_t=k(It),We=u(It,"DIV",{class:!0});var Ot=v(We);Oe=u(Ot,"INPUT",{type:!0,id:!0,class:!0}),Fe=k(Ot),et=u(Ot,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(et)!=="svelte-1ci82xh"&&(et.textContent=mt),Ot.forEach(d),Ge=k(It),lt=u(It,"P",{class:!0,"data-svelte-h":!0}),O(lt)!=="svelte-cg7a8f"&&(lt.textContent=pt),It.forEach(d),Je=k(Dt),Ke=u(Dt,"DIV",{});var Nt=v(Ke);Ae=u(Nt,"LABEL",{class:!0,"data-svelte-h":!0}),O(Ae)!=="svelte-mzbc5d"&&(Ae.textContent=yt),wt=k(Nt),rt=u(Nt,"DIV",{class:!0});var zt=v(rt);De=u(zt,"INPUT",{type:!0,id:!0,class:!0}),Ct=k(zt),fe=u(zt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(fe)!=="svelte-1x4xtu2"&&(fe.textContent=qt),zt.forEach(d),xt=k(Nt),nt=u(Nt,"P",{class:!0,"data-svelte-h":!0}),O(nt)!=="svelte-19xxamf"&&(nt.textContent=Vt),Nt.forEach(d),Dt.forEach(d),St=k(M),st=u(M,"DIV",{class:!0});var jt=v(st);g=u(jt,"BUTTON",{type:!0,class:!0});var Wt=v(g);q=F(Wt,"Cancel"),Wt.forEach(d),Qe=k(jt),Pe=u(jt,"BUTTON",{type:!0,class:!0});var el=v(Pe);Te.l(el),el.forEach(d),jt.forEach(d),M.forEach(d),this.h()},h(){o(n,"for","username"),o(n,"class","form-label"),o(f,"type","text"),o(f,"id","username"),o(f,"class","form-input font-mono"),o(f,"placeholder","username"),f.required=!0,f.disabled=m=!!s[0],o(b,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(z,"for","email"),o(z,"class","form-label"),o(U,"type","email"),o(U,"id","email"),o(U,"class","form-input"),o(U,"placeholder","user@example.com"),U.required=!0,o(N,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(t,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),o(T,"for","full_name"),o(T,"class","form-label"),o(A,"type","text"),o(A,"id","full_name"),o(A,"class","form-input"),o(A,"placeholder","John Doe"),o(J,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(Ce,"for","avatar_url"),o(Ce,"class","form-label"),o(E,"type","url"),o(E,"id","avatar_url"),o(E,"class","form-input"),o(E,"placeholder","https://example.com/avatar.jpg"),o(ce,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(Y,"for","phone_number"),o(Y,"class","form-label"),o(Z,"type","tel"),o(Z,"id","phone_number"),o(Z,"class","form-input"),o(Z,"placeholder","+1 (555) 123-4567"),o(xe,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(re,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),o(ye,"for","bio"),o(ye,"class","form-label"),o(Me,"id","bio"),o(Me,"class","form-input"),o(Me,"placeholder","Tell us about yourself..."),o(Me,"rows","3"),o($e,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(tt,"class","text-lg font-medium text-gray-900 dark:text-gray-50"),o(Re,"class","form-label"),o(Oe,"type","checkbox"),o(Oe,"id","is_active"),o(Oe,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"),o(et,"for","is_active"),o(et,"class","text-sm font-medium text-gray-700 dark:text-gray-200"),o(We,"class","flex items-center space-x-3"),o(lt,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(Ae,"class","form-label"),o(De,"type","checkbox"),o(De,"id","is_superuser"),o(De,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"),o(fe,"for","is_superuser"),o(fe,"class","text-sm font-medium text-gray-700 dark:text-gray-200"),o(rt,"class","flex items-center space-x-3"),o(nt,"class","mt-1 text-sm text-gray-500 dark:text-gray-400"),o(Se,"class","space-y-4"),o(g,"type","button"),o(g,"class","btn btn-secondary"),g.disabled=s[4],o(Pe,"type","submit"),o(Pe,"class","btn btn-primary flex items-center space-x-2"),Pe.disabled=s[4],o(st,"class","flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"),o(e,"class","space-y-6")},m(V,M){ee(V,e,M),a(e,t),a(t,l),a(l,n),a(l,i),a(l,f),ie(f,s[3].username),a(l,p),we&&we.m(l,null),a(l,_),a(l,b),a(t,x),a(t,C),a(C,z),a(C,B),a(C,U),ie(U,s[3].email),a(C,W),Ue&&Ue.m(C,null),a(C,Q),a(C,N),a(e,$),a(e,w),a(w,T),a(w,X),a(w,A),ie(A,s[3].full_name),a(w,R),a(w,J),a(e,ve),ge&&ge.m(e,null),a(e,Ie),a(e,re),a(re,K),a(K,Ce),a(K,ue),a(K,E),ie(E,s[3].avatar_url),a(K,he),a(K,ce),a(re,Ne),a(re,be),a(be,Y),a(be,I),a(be,Z),ie(Z,s[3].phone_number),a(be,se),a(be,xe),a(e,Ye),a(e,te),a(te,ye),a(te,qe),a(te,Me),ie(Me,s[3].bio),a(te,ft),a(te,$e),a(e,at),a(e,Se),a(Se,tt),a(Se,it),a(Se,He),a(He,Re),a(He,_t),a(He,We),a(We,Oe),Oe.checked=s[3].is_active,a(We,Fe),a(We,et),a(He,Ge),a(He,lt),a(Se,Je),a(Se,Ke),a(Ke,Ae),a(Ke,wt),a(Ke,rt),a(rt,De),De.checked=s[3].is_superuser,a(rt,Ct),a(rt,fe),a(Ke,xt),a(Ke,nt),a(e,St),a(e,st),a(st,g),a(g,q),a(st,Qe),a(st,Pe),Xe[ke].m(Pe,null),Ve=!0,Et||(ht=[le(f,"input",s[10]),le(U,"input",s[11]),le(A,"input",s[12]),le(E,"input",s[19]),le(Z,"input",s[20]),le(Me,"input",s[21]),le(Oe,"change",s[22]),le(De,"change",s[23]),le(g,"click",s[9]),le(e,"submit",Pl(s[8]))],Et=!0)},p(V,[M]){(!Ve||M&1&&m!==(m=!!V[0]))&&(f.disabled=m),M&8&&f.value!==V[3].username&&ie(f,V[3].username),V[5].username?we?we.p(V,M):(we=rl(V),we.c(),we.m(l,_)):we&&(we.d(1),we=null),M&8&&U.value!==V[3].email&&ie(U,V[3].email),V[5].email?Ue?Ue.p(V,M):(Ue=sl(V),Ue.c(),Ue.m(C,Q)):Ue&&(Ue.d(1),Ue=null),M&8&&A.value!==V[3].full_name&&ie(A,V[3].full_name),!V[0]||V[3].password?ge?(ge.p(V,M),M&9&&L(ge,1)):(ge=al(V),ge.c(),L(ge,1),ge.m(e,Ie)):ge&&(vt(),S(ge,1,1,()=>{ge=null}),bt()),M&8&&E.value!==V[3].avatar_url&&ie(E,V[3].avatar_url),M&8&&ie(Z,V[3].phone_number),M&8&&ie(Me,V[3].bio),M&8&&(Oe.checked=V[3].is_active),M&8&&(De.checked=V[3].is_superuser),(!Ve||M&16)&&(g.disabled=V[4]);let Be=ke;ke=Bt(V),ke===Be?Xe[ke].p(V,M):(vt(),S(Xe[Be],1,1,()=>{Xe[Be]=null}),bt(),Te=Xe[ke],Te?Te.p(V,M):(Te=Xe[ke]=ut[ke](V),Te.c()),L(Te,1),Te.m(Pe,null)),(!Ve||M&16)&&(Pe.disabled=V[4])},i(V){Ve||(L(ge),L(Te),Ve=!0)},o(V){S(ge),S(Te),Ve=!1},d(V){V&&d(e),we&&we.d(),Ue&&Ue.d(),ge&&ge.d(),Xe[ke].d(),Et=!1,Lt(ht)}}}function nr(s,e,t){let{user:l=null}=e;const n=Ul();let r={username:(l==null?void 0:l.username)||"",email:(l==null?void 0:l.email)||"",full_name:(l==null?void 0:l.full_name)||"",password:"",confirmPassword:"",is_active:(l==null?void 0:l.is_active)??!0,is_superuser:(l==null?void 0:l.is_superuser)??!1,avatar_url:(l==null?void 0:l.avatar_url)||"",bio:(l==null?void 0:l.bio)||"",phone_number:(l==null?void 0:l.phone_number)||""},i="",f="",m=!1,p={},_=!1,b=!1;async function h(){if(t(5,p={}),!r.username.trim()){t(5,p.username="Username is required",p);return}if(!r.email.trim()){t(5,p.email="Email is required",p);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)){t(5,p.email="Please enter a valid email address",p);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.username)){t(5,p.username="Username can only contain letters, numbers, underscores, and hyphens",p);return}if(!l){if(!r.password){t(5,p.password="Password is required",p);return}if(r.password.length<8){t(5,p.password="Password must be at least 8 characters long",p);return}if(r.password!==r.confirmPassword){t(5,p.confirmPassword="Passwords do not match",p);return}}try{t(4,m=!0);const R={username:r.username.trim(),email:r.email.trim(),full_name:r.full_name.trim()||null,is_active:r.is_active,is_superuser:r.is_superuser,avatar_url:r.avatar_url.trim()||null,bio:r.bio.trim()||null,phone_number:r.phone_number.trim()||null};l?(r.password&&(R.password=r.password),await Rt.updateUser(l.id,R),gt.success("User updated successfully")):(R.password=r.password,await Rt.createUser(R),gt.success("User created successfully")),n("success")}catch(R){if(console.error("Form submission error:",R),R.message&&R.message.includes("detail"))try{const J=JSON.parse(R.message);J.detail&&(typeof J.detail=="string"?gt.error(J.detail):Array.isArray(J.detail)&&J.detail.forEach(ae=>{if(ae.loc&&ae.loc.length>1){const ve=ae.loc[1];t(5,p[ve]=ae.msg,p)}}))}catch{gt.error("An error occurred while saving the user")}else gt.error("An error occurred while saving the user")}finally{t(4,m=!1)}}function x(){n("cancel")}function C(){r.username=this.value,t(3,r),t(1,i),t(2,f)}function z(){r.email=this.value,t(3,r),t(1,i),t(2,f)}function j(){r.full_name=this.value,t(3,r),t(1,i),t(2,f)}function B(){i=this.value,t(1,i)}function U(){i=this.value,t(1,i)}const W=()=>t(6,_=!_);function Q(){f=this.value,t(2,f)}function N(){f=this.value,t(2,f)}const D=()=>t(7,b=!b);function $(){r.avatar_url=this.value,t(3,r),t(1,i),t(2,f)}function w(){r.phone_number=this.value,t(3,r),t(1,i),t(2,f)}function T(){r.bio=this.value,t(3,r),t(1,i),t(2,f)}function H(){r.is_active=this.checked,t(3,r),t(1,i),t(2,f)}function X(){r.is_superuser=this.checked,t(3,r),t(1,i),t(2,f)}return s.$$set=A=>{"user"in A&&t(0,l=A.user)},s.$$.update=()=>{s.$$.dirty&2&&t(3,r.password=i,r),s.$$.dirty&4&&t(3,r.confirmPassword=f,r)},[l,i,f,r,m,p,_,b,h,x,C,z,j,B,U,W,Q,N,D,$,w,T,H,X]}class Tl extends Jt{constructor(e){super(),Kt(this,e,nr,ar,Gt,{user:0})}}function il(s,e,t){const l=s.slice();l[36]=e[t],l[39]=t;const n=Math.max(1,Math.min(l[4]-4,l[3]-2))+l[39];return l[37]=n,l}function ul(s,e,t){const l=s.slice();return l[40]=e[t],l}function or(s){let e,t,l='<tr><th>Username</th> <th>Email</th> <th>Full Name</th> <th>Role</th> <th>Status</th> <th>Last Login</th> <th class="text-right">Actions</th></tr>',n,r,i,f=Ft(s[11]()),m=[];for(let _=0;_<f.length;_+=1)m[_]=cl(ul(s,f,_));const p=_=>S(m[_],1,1,()=>{m[_]=null});return{c(){e=c("table"),t=c("thead"),t.innerHTML=l,n=y(),r=c("tbody");for(let _=0;_<m.length;_+=1)m[_].c();this.h()},l(_){e=u(_,"TABLE",{class:!0});var b=v(e);t=u(b,"THEAD",{"data-svelte-h":!0}),O(t)!=="svelte-1axv8ob"&&(t.innerHTML=l),n=k(b),r=u(b,"TBODY",{});var h=v(r);for(let x=0;x<m.length;x+=1)m[x].l(h);h.forEach(d),b.forEach(d),this.h()},h(){o(e,"class","table")},m(_,b){ee(_,e,b),a(e,t),a(e,n),a(e,r);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(r,null);i=!0},p(_,b){if(b[0]&26624){f=Ft(_[11]());let h;for(h=0;h<f.length;h+=1){const x=ul(_,f,h);m[h]?(m[h].p(x,b),L(m[h],1)):(m[h]=cl(x),m[h].c(),L(m[h],1),m[h].m(r,null))}for(vt(),h=f.length;h<m.length;h+=1)p(h);bt()}},i(_){if(!i){for(let b=0;b<f.length;b+=1)L(m[b]);i=!0}},o(_){m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)S(m[b]);i=!1},d(_){_&&d(e),bl(m,_)}}}function ir(s){let e,t,l,n,r="No users found",i,f,m=s[2]?"Try adjusting your search terms.":"Get started by creating your first user.",p,_,b;t=new ql({props:{class:"mx-auto text-gray-400 dark:text-gray-500 mb-4",size:48}});let h=!s[2]&&fl(s);return{c(){e=c("div"),pe(t.$$.fragment),l=y(),n=c("h3"),n.textContent=r,i=y(),f=c("p"),p=G(m),_=y(),h&&h.c(),this.h()},l(x){e=u(x,"DIV",{class:!0});var C=v(e);me(t.$$.fragment,C),l=k(C),n=u(C,"H3",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-1h5otm4"&&(n.textContent=r),i=k(C),f=u(C,"P",{class:!0});var z=v(f);p=F(z,m),z.forEach(d),_=k(C),h&&h.l(C),C.forEach(d),this.h()},h(){o(n,"class","text-lg font-medium text-gray-900 dark:text-gray-50 mb-2"),o(f,"class","text-gray-600 dark:text-gray-400 mb-4"),o(e,"class","text-center py-12")},m(x,C){ee(x,e,C),_e(t,e,null),a(e,l),a(e,n),a(e,i),a(e,f),a(f,p),a(e,_),h&&h.m(e,null),b=!0},p(x,C){(!b||C[0]&4)&&m!==(m=x[2]?"Try adjusting your search terms.":"Get started by creating your first user.")&&je(p,m),x[2]?h&&(vt(),S(h,1,1,()=>{h=null}),bt()):h?(h.p(x,C),C[0]&4&&L(h,1)):(h=fl(x),h.c(),L(h,1),h.m(e,null))},i(x){b||(L(t.$$.fragment,x),L(h),b=!0)},o(x){S(t.$$.fragment,x),S(h),b=!1},d(x){x&&d(e),de(t),h&&h.d()}}}function ur(s){let e,t='<div class="spinner mr-3"></div> <span class="text-gray-600 dark:text-gray-400">Loading users...</span>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=u(l,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1nbgijt"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex items-center justify-center py-12")},m(l,n){ee(l,e,n)},p:ct,i:ct,o:ct,d(l){l&&d(e)}}}function cr(s){let e,t,l,n;return t=new Ml({props:{size:12,class:"mr-1"}}),{c(){e=c("span"),pe(t.$$.fragment),l=G(`\r
                      User`),this.h()},l(r){e=u(r,"SPAN",{class:!0});var i=v(e);me(t.$$.fragment,i),l=F(i,`\r
                      User`),i.forEach(d),this.h()},h(){o(e,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400")},m(r,i){ee(r,e,i),_e(t,e,null),a(e,l),n=!0},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){S(t.$$.fragment,r),n=!1},d(r){r&&d(e),de(t)}}}function fr(s){let e,t,l,n;return t=new Rl({props:{size:12,class:"mr-1"}}),{c(){e=c("span"),pe(t.$$.fragment),l=G(`\r
                      Admin`),this.h()},l(r){e=u(r,"SPAN",{class:!0});var i=v(e);me(t.$$.fragment,i),l=F(i,`\r
                      Admin`),i.forEach(d),this.h()},h(){o(e,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400")},m(r,i){ee(r,e,i),_e(t,e,null),a(e,l),n=!0},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){S(t.$$.fragment,r),n=!1},d(r){r&&d(e),de(t)}}}function dr(s){let e,t,l,n;return t=new Kl({props:{size:12,class:"mr-1"}}),{c(){e=c("span"),pe(t.$$.fragment),l=G(`\r
                      Inactive`),this.h()},l(r){e=u(r,"SPAN",{class:!0});var i=v(e);me(t.$$.fragment,i),l=F(i,`\r
                      Inactive`),i.forEach(d),this.h()},h(){o(e,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400")},m(r,i){ee(r,e,i),_e(t,e,null),a(e,l),n=!0},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){S(t.$$.fragment,r),n=!1},d(r){r&&d(e),de(t)}}}function _r(s){let e,t,l,n;return t=new Ol({props:{size:12,class:"mr-1"}}),{c(){e=c("span"),pe(t.$$.fragment),l=G(`\r
                      Active`),this.h()},l(r){e=u(r,"SPAN",{class:!0});var i=v(e);me(t.$$.fragment,i),l=F(i,`\r
                      Active`),i.forEach(d),this.h()},h(){o(e,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400")},m(r,i){ee(r,e,i),_e(t,e,null),a(e,l),n=!0},i(r){n||(L(t.$$.fragment,r),n=!0)},o(r){S(t.$$.fragment,r),n=!1},d(r){r&&d(e),de(t)}}}function cl(s){let e,t,l=s[40].username+"",n,r,i,f=s[40].email+"",m,p,_,b=(s[40].full_name||"-")+"",h,x,C,z,j,B,U,W,Q,N,D,$=(s[40].last_login?new Date(s[40].last_login).toLocaleDateString():"Never")+"",w,T,H,X,A,R,J,ae,ve,Ie,re,K,Ce;const ne=[fr,cr],ue=[];function E(Y,P){return Y[40].is_superuser?0:1}z=E(s),j=ue[z]=ne[z](s);const he=[_r,dr],ce=[];function oe(Y,P){return Y[40].is_active?0:1}W=oe(s),Q=ce[W]=he[W](s),R=new Sl({props:{size:16}});function Ne(){return s[19](s[40])}ve=new Cl({props:{size:16}});function be(){return s[20](s[40])}return{c(){e=c("tr"),t=c("td"),n=G(l),r=y(),i=c("td"),m=G(f),p=y(),_=c("td"),h=G(b),x=y(),C=c("td"),j.c(),B=y(),U=c("td"),Q.c(),N=y(),D=c("td"),w=G($),T=y(),H=c("td"),X=c("div"),A=c("button"),pe(R.$$.fragment),J=y(),ae=c("button"),pe(ve.$$.fragment),Ie=y(),this.h()},l(Y){e=u(Y,"TR",{class:!0});var P=v(e);t=u(P,"TD",{class:!0});var I=v(t);n=F(I,l),I.forEach(d),r=k(P),i=u(P,"TD",{class:!0});var Z=v(i);m=F(Z,f),Z.forEach(d),p=k(P),_=u(P,"TD",{class:!0});var se=v(_);h=F(se,b),se.forEach(d),x=k(P),C=u(P,"TD",{});var xe=v(C);j.l(xe),xe.forEach(d),B=k(P),U=u(P,"TD",{});var Ee=v(U);Q.l(Ee),Ee.forEach(d),N=k(P),D=u(P,"TD",{class:!0});var Ye=v(D);w=F(Ye,$),Ye.forEach(d),T=k(P),H=u(P,"TD",{class:!0});var te=v(H);X=u(te,"DIV",{class:!0});var ye=v(X);A=u(ye,"BUTTON",{class:!0,title:!0});var Ze=v(A);me(R.$$.fragment,Ze),Ze.forEach(d),J=k(ye),ae=u(ye,"BUTTON",{class:!0,title:!0});var qe=v(ae);me(ve.$$.fragment,qe),qe.forEach(d),ye.forEach(d),te.forEach(d),Ie=k(P),P.forEach(d),this.h()},h(){o(t,"class","font-medium text-gray-900 dark:text-gray-50"),o(i,"class","text-gray-600 dark:text-gray-400"),o(_,"class","text-gray-600 dark:text-gray-400"),o(D,"class","text-gray-600 dark:text-gray-400"),o(A,"class","p-1 text-gray-400 dark:text-gray-500 hover:text-blue-500 rounded"),o(A,"title","Edit user"),o(ae,"class","p-1 text-gray-400 dark:text-gray-500 hover:text-red-500 rounded"),o(ae,"title","Delete user"),o(X,"class","flex items-center justify-end space-x-2"),o(H,"class","text-right"),o(e,"class","hover:bg-gray-50 dark:hover:bg-gray-800")},m(Y,P){ee(Y,e,P),a(e,t),a(t,n),a(e,r),a(e,i),a(i,m),a(e,p),a(e,_),a(_,h),a(e,x),a(e,C),ue[z].m(C,null),a(e,B),a(e,U),ce[W].m(U,null),a(e,N),a(e,D),a(D,w),a(e,T),a(e,H),a(H,X),a(X,A),_e(R,A,null),a(X,J),a(X,ae),_e(ve,ae,null),a(e,Ie),re=!0,K||(Ce=[le(A,"click",Ne),le(ae,"click",be)],K=!0)},p(Y,P){s=Y},i(Y){re||(L(j),L(Q),L(R.$$.fragment,Y),L(ve.$$.fragment,Y),re=!0)},o(Y){S(j),S(Q),S(R.$$.fragment,Y),S(ve.$$.fragment,Y),re=!1},d(Y){Y&&d(e),ue[z].d(),ce[W].d(),de(R),de(ve),K=!1,Lt(Ce)}}}function fl(s){let e,t,l,n,r="Add User",i,f,m;return t=new wl({props:{size:18}}),{c(){e=c("button"),pe(t.$$.fragment),l=y(),n=c("span"),n.textContent=r,this.h()},l(p){e=u(p,"BUTTON",{class:!0});var _=v(e);me(t.$$.fragment,_),l=k(_),n=u(_,"SPAN",{"data-svelte-h":!0}),O(n)!=="svelte-pzwqks"&&(n.textContent=r),_.forEach(d),this.h()},h(){o(e,"class","btn btn-primary flex items-center space-x-2 mx-auto")},m(p,_){ee(p,e,_),_e(t,e,null),a(e,l),a(e,n),i=!0,f||(m=le(e,"click",s[12]),f=!0)},p:ct,i(p){i||(L(t.$$.fragment,p),i=!0)},o(p){S(t.$$.fragment,p),i=!1},d(p){p&&d(e),de(t),f=!1,m()}}}function dl(s){let e,t,l,n,r,i,f,m,p,_,b,h,x,C,z,j,B,U,W,Q,N=Ft(Array(Math.min(5,s[4]))),D=[];for(let $=0;$<N.length;$+=1)D[$]=ml(il(s,N,$));return{c(){e=c("div"),t=c("button"),l=G("««"),r=y(),i=c("button"),f=G("‹"),p=y(),_=c("div");for(let $=0;$<D.length;$+=1)D[$].c();b=y(),h=c("button"),x=G("›"),z=y(),j=c("button"),B=G("»»"),this.h()},l($){e=u($,"DIV",{class:!0});var w=v(e);t=u(w,"BUTTON",{class:!0,title:!0});var T=v(t);l=F(T,"««"),T.forEach(d),r=k(w),i=u(w,"BUTTON",{class:!0,title:!0});var H=v(i);f=F(H,"‹"),H.forEach(d),p=k(w),_=u(w,"DIV",{class:!0});var X=v(_);for(let J=0;J<D.length;J+=1)D[J].l(X);X.forEach(d),b=k(w),h=u(w,"BUTTON",{class:!0,title:!0});var A=v(h);x=F(A,"›"),A.forEach(d),z=k(w),j=u(w,"BUTTON",{class:!0,title:!0});var R=v(j);B=F(R,"»»"),R.forEach(d),w.forEach(d),this.h()},h(){o(t,"class","btn btn-secondary"),t.disabled=n=s[3]===1,o(t,"title","First page"),o(i,"class","btn btn-secondary"),i.disabled=m=s[3]===1,o(i,"title","Previous page"),o(_,"class","flex items-center space-x-1"),o(h,"class","btn btn-secondary"),h.disabled=C=s[3]===s[4],o(h,"title","Next page"),o(j,"class","btn btn-secondary"),j.disabled=U=s[3]===s[4],o(j,"title","Last page"),o(e,"class","flex items-center space-x-2")},m($,w){ee($,e,w),a(e,t),a(t,l),a(e,r),a(e,i),a(i,f),a(e,p),a(e,_);for(let T=0;T<D.length;T+=1)D[T]&&D[T].m(_,null);a(e,b),a(e,h),a(h,x),a(e,z),a(e,j),a(j,B),W||(Q=[le(t,"click",s[23]),le(i,"click",s[24]),le(h,"click",s[26]),le(j,"click",s[27])],W=!0)},p($,w){if(w[0]&8&&n!==(n=$[3]===1)&&(t.disabled=n),w[0]&8&&m!==(m=$[3]===1)&&(i.disabled=m),w[0]&1048){N=Ft(Array(Math.min(5,$[4])));let T;for(T=0;T<N.length;T+=1){const H=il($,N,T);D[T]?D[T].p(H,w):(D[T]=ml(H),D[T].c(),D[T].m(_,null))}for(;T<D.length;T+=1)D[T].d(1);D.length=N.length}w[0]&24&&C!==(C=$[3]===$[4])&&(h.disabled=C),w[0]&24&&U!==(U=$[3]===$[4])&&(j.disabled=U)},d($){$&&d(e),bl(D,$),W=!1,Lt(Q)}}}function _l(s){let e,t=s[37]+"",l,n,r,i,f;function m(){return s[25](s[37])}return{c(){e=c("button"),l=G(t),n=y(),this.h()},l(p){e=u(p,"BUTTON",{class:!0});var _=v(e);l=F(_,t),n=k(_),_.forEach(d),this.h()},h(){o(e,"class",r="px-3 py-2 text-sm font-medium rounded-lg border transition-colors "+(s[37]===s[3]?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"))},m(p,_){ee(p,e,_),a(e,l),a(e,n),i||(f=le(e,"click",m),i=!0)},p(p,_){s=p,_[0]&24&&t!==(t=s[37]+"")&&je(l,t),_[0]&24&&r!==(r="px-3 py-2 text-sm font-medium rounded-lg border transition-colors "+(s[37]===s[3]?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"))&&o(e,"class",r)},d(p){p&&d(e),i=!1,f()}}}function ml(s){let e,t=s[37]<=s[4]&&_l(s);return{c(){t&&t.c(),e=ll()},l(l){t&&t.l(l),e=ll()},m(l,n){t&&t.m(l,n),ee(l,e,n)},p(l,n){l[37]<=l[4]?t?t.p(l,n):(t=_l(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function mr(s){let e,t;return e=new Tl({}),e.$on("success",s[16]),e.$on("cancel",s[28]),{c(){pe(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){_e(e,l,n),t=!0},p:ct,i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function pr(s){let e,t;return e=new Tl({props:{user:s[9]}}),e.$on("success",s[16]),e.$on("cancel",s[31]),{c(){pe(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){_e(e,l,n),t=!0},p(l,n){const r={};n[0]&512&&(r.user=l[9]),e.$set(r)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function hr(s){var N;let e,t,l,n,r,i,f,m,p="Delete User",_,b,h,x,C=((N=s[9])==null?void 0:N.username)+"",z,j,B,U,W='<p class="text-sm text-yellow-800 dark:text-yellow-200">All user data will be permanently removed from the system.</p>',Q;return r=new Cl({props:{class:"text-red-600 dark:text-red-400",size:20}}),{c(){e=c("div"),t=c("div"),l=c("div"),n=c("div"),pe(r.$$.fragment),i=y(),f=c("div"),m=c("h3"),m.textContent=p,_=y(),b=c("p"),h=G("Are you sure you want to delete "),x=c("strong"),z=G(C),j=G(`?\r
          This action cannot be undone.`),B=y(),U=c("div"),U.innerHTML=W,this.h()},l(D){e=u(D,"DIV",{class:!0});var $=v(e);t=u($,"DIV",{class:!0});var w=v(t);l=u(w,"DIV",{class:!0});var T=v(l);n=u(T,"DIV",{class:!0});var H=v(n);me(r.$$.fragment,H),H.forEach(d),T.forEach(d),i=k(w),f=u(w,"DIV",{class:!0});var X=v(f);m=u(X,"H3",{class:!0,"data-svelte-h":!0}),O(m)!=="svelte-o5dhef"&&(m.textContent=p),_=k(X),b=u(X,"P",{class:!0});var A=v(b);h=F(A,"Are you sure you want to delete "),x=u(A,"STRONG",{});var R=v(x);z=F(R,C),R.forEach(d),j=F(A,`?\r
          This action cannot be undone.`),A.forEach(d),B=k(X),U=u(X,"DIV",{class:!0,"data-svelte-h":!0}),O(U)!=="svelte-8uyi7y"&&(U.innerHTML=W),X.forEach(d),w.forEach(d),$.forEach(d),this.h()},h(){o(n,"class","w-10 h-10 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center"),o(l,"class","flex-shrink-0"),o(m,"class","text-lg font-medium text-gray-900 dark:text-gray-50"),o(b,"class","text-gray-600 dark:text-gray-400 mt-1"),o(U,"class","mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg"),o(f,"class","flex-1"),o(t,"class","flex items-start space-x-3"),o(e,"class","space-y-4")},m(D,$){ee(D,e,$),a(e,t),a(t,l),a(l,n),_e(r,n,null),a(t,i),a(t,f),a(f,m),a(f,_),a(f,b),a(b,h),a(b,x),a(x,z),a(b,j),a(f,B),a(f,U),Q=!0},p(D,$){var w;(!Q||$[0]&512)&&C!==(C=((w=D[9])==null?void 0:w.username)+"")&&je(z,C)},i(D){Q||(L(r.$$.fragment,D),Q=!0)},o(D){S(r.$$.fragment,D),Q=!1},d(D){D&&d(e),de(r)}}}function gr(s){let e,t,l="Cancel",n,r,i="Delete User",f,m;return{c(){e=c("div"),t=c("button"),t.textContent=l,n=y(),r=c("button"),r.textContent=i,this.h()},l(p){e=u(p,"DIV",{slot:!0,class:!0});var _=v(e);t=u(_,"BUTTON",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-1k2458d"&&(t.textContent=l),n=k(_),r=u(_,"BUTTON",{class:!0,"data-svelte-h":!0}),O(r)!=="svelte-3d5se"&&(r.textContent=i),_.forEach(d),this.h()},h(){o(t,"class","btn btn-secondary"),o(r,"class","btn btn-danger"),o(e,"slot","footer"),o(e,"class","flex justify-end space-x-3")},m(p,_){ee(p,e,_),a(e,t),a(e,n),a(e,r),f||(m=[le(t,"click",s[34]),le(r,"click",s[15])],f=!0)},p:ct,d(p){p&&d(e),f=!1,Lt(m)}}}function vr(s){let e,t,l,n,r='<h1 class="text-3xl font-bold text-gray-900 dark:text-gray-50">Users</h1> <p class="text-gray-600 dark:text-gray-400 mt-2">Manage system users and their permissions</p>',i,f,m,p,_,b,h,x,C,z="Add User",j,B,U,W,Q,N,D,$,w,T,H,X=s[11]().length+"",A,R,J=s[0].length+"",ae,ve,Ie,re,K,Ce,ne,ue,E,he,ce,oe,Ne,be="Show:",Y,P,I,Z="10",se,xe="20",Ee,Ye="50",te,ye="100",Ze,qe,Me="per page",ft,$e,kt,at=Math.min((s[3]-1)*s[5]+1,s[0].length)+"",Se,tt,ot=Math.min(s[3]*s[5],s[0].length)+"",it,He,Re=s[0].length+"",dt,_t,We,Oe,Fe,et,mt,Ge,lt,pt,Je,Ke,Ae,yt,wt;p=new Vl({props:{size:18,class:s[1]?"animate-spin":""}}),h=new wl({props:{size:18}}),w=new Bl({props:{size:18}});const rt=[ur,ir,or],De=[];function Ct(g,q){return g[1]?0:(Ce==null&&(Ce=g[11]().length===0),Ce?1:2)}ne=Ct(s),ue=De[ne]=rt[ne](s);let fe=s[4]>1&&dl(s);function qt(g){s[30](g)}let xt={title:"Create New User",onClose:s[29],$$slots:{default:[mr]},$$scope:{ctx:s}};s[6]!==void 0&&(xt.open=s[6]),Fe=new Zt({props:xt}),Qt.push(()=>Yt(Fe,"open",qt));function nt(g){s[33](g)}let Vt={title:"Edit User",onClose:s[32],$$slots:{default:[pr]},$$scope:{ctx:s}};s[7]!==void 0&&(Vt.open=s[7]),Ge=new Zt({props:Vt}),Qt.push(()=>Yt(Ge,"open",nt));function St(g){s[35](g)}let st={title:"Delete User",size:"sm",$$slots:{footer:[gr],default:[hr]},$$scope:{ctx:s}};return s[8]!==void 0&&(st.open=s[8]),Je=new Zt({props:st}),Qt.push(()=>Yt(Je,"open",St)),{c(){e=y(),t=c("div"),l=c("div"),n=c("div"),n.innerHTML=r,i=y(),f=c("div"),m=c("button"),pe(p.$$.fragment),_=y(),b=c("button"),pe(h.$$.fragment),x=y(),C=c("span"),C.textContent=z,j=y(),B=c("div"),U=c("div"),W=c("div"),Q=c("div"),N=c("input"),D=y(),$=c("div"),pe(w.$$.fragment),T=y(),H=c("div"),A=G(X),R=G(" of "),ae=G(J),ve=G(" users"),Ie=y(),re=c("div"),K=c("div"),ue.c(),E=y(),he=c("div"),ce=c("div"),oe=c("div"),Ne=c("label"),Ne.textContent=be,Y=y(),P=c("select"),I=c("option"),I.textContent=Z,se=c("option"),se.textContent=xe,Ee=c("option"),Ee.textContent=Ye,te=c("option"),te.textContent=ye,Ze=y(),qe=c("span"),qe.textContent=Me,ft=y(),$e=c("div"),kt=G("Showing "),Se=G(at),tt=G(" to "),it=G(ot),He=G(" of "),dt=G(Re),_t=G(" users"),We=y(),fe&&fe.c(),Oe=y(),pe(Fe.$$.fragment),mt=y(),pe(Ge.$$.fragment),pt=y(),pe(Je.$$.fragment),this.h()},l(g){Il("svelte-15xzxr8",document.head).forEach(d),e=k(g),t=u(g,"DIV",{class:!0});var Qe=v(t);l=u(Qe,"DIV",{class:!0});var Pe=v(l);n=u(Pe,"DIV",{"data-svelte-h":!0}),O(n)!=="svelte-1r1qrll"&&(n.innerHTML=r),i=k(Pe),f=u(Pe,"DIV",{class:!0});var ke=v(f);m=u(ke,"BUTTON",{class:!0,title:!0});var Te=v(m);me(p.$$.fragment,Te),Te.forEach(d),_=k(ke),b=u(ke,"BUTTON",{class:!0});var Ve=v(b);me(h.$$.fragment,Ve),x=k(Ve),C=u(Ve,"SPAN",{"data-svelte-h":!0}),O(C)!=="svelte-pzwqks"&&(C.textContent=z),Ve.forEach(d),ke.forEach(d),Pe.forEach(d),j=k(Qe),B=u(Qe,"DIV",{class:!0});var Et=v(B);U=u(Et,"DIV",{class:!0});var ht=v(U);W=u(ht,"DIV",{class:!0});var we=v(W);Q=u(we,"DIV",{class:!0});var Ue=v(Q);N=u(Ue,"INPUT",{type:!0,placeholder:!0,class:!0}),Ue.forEach(d),D=k(we),$=u(we,"DIV",{class:!0});var ge=v($);me(w.$$.fragment,ge),ge.forEach(d),we.forEach(d),T=k(ht),H=u(ht,"DIV",{class:!0});var ut=v(H);A=F(ut,X),R=F(ut," of "),ae=F(ut,J),ve=F(ut," users"),ut.forEach(d),ht.forEach(d),Et.forEach(d),Ie=k(Qe),re=u(Qe,"DIV",{class:!0});var Xe=v(re);K=u(Xe,"DIV",{class:!0});var Bt=v(K);ue.l(Bt),Bt.forEach(d),E=k(Xe),he=u(Xe,"DIV",{class:!0});var V=v(he);ce=u(V,"DIV",{class:!0});var M=v(ce);oe=u(M,"DIV",{class:!0});var Be=v(oe);Ne=u(Be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(Ne)!=="svelte-ql7zxs"&&(Ne.textContent=be),Y=k(Be),P=u(Be,"SELECT",{id:!0,class:!0});var ze=v(P);I=u(ze,"OPTION",{"data-svelte-h":!0}),O(I)!=="svelte-18d3dpq"&&(I.textContent=Z),se=u(ze,"OPTION",{"data-svelte-h":!0}),O(se)!=="svelte-1k18a0a"&&(se.textContent=xe),Ee=u(ze,"OPTION",{"data-svelte-h":!0}),O(Ee)!=="svelte-ujtx1y"&&(Ee.textContent=Ye),te=u(ze,"OPTION",{"data-svelte-h":!0}),O(te)!=="svelte-ic6cau"&&(te.textContent=ye),ze.forEach(d),Ze=k(Be),qe=u(Be,"SPAN",{class:!0,"data-svelte-h":!0}),O(qe)!=="svelte-1mtc279"&&(qe.textContent=Me),Be.forEach(d),ft=k(M),$e=u(M,"DIV",{class:!0});var Le=v($e);kt=F(Le,"Showing "),Se=F(Le,at),tt=F(Le," to "),it=F(Le,ot),He=F(Le," of "),dt=F(Le,Re),_t=F(Le," users"),Le.forEach(d),M.forEach(d),We=k(V),fe&&fe.l(V),V.forEach(d),Xe.forEach(d),Qe.forEach(d),Oe=k(g),me(Fe.$$.fragment,g),mt=k(g),me(Ge.$$.fragment,g),pt=k(g),me(Je.$$.fragment,g),this.h()},h(){document.title="Users - Sigma Permit",o(m,"class","btn btn-primary p-2"),m.disabled=s[1],o(m,"title","Refresh"),o(b,"class","btn btn-primary flex items-center space-x-2"),o(f,"class","flex items-center space-x-3"),o(l,"class","flex items-center justify-between"),o(N,"type","text"),o(N,"placeholder","Search users..."),o(N,"class","form-input w-full"),o(Q,"class","relative flex-1"),o($,"class","ml-2 p-2 text-gray-400 dark:text-gray-500"),o(W,"class","flex-1 flex items-center"),o(H,"class","text-sm text-gray-600 dark:text-gray-400"),o(U,"class","flex flex-col sm:flex-row gap-4"),o(B,"class","card p-4"),o(K,"class","table-container"),o(Ne,"for","pageSize"),o(Ne,"class","text-sm text-gray-600 dark:text-gray-400"),I.__value=10,ie(I,I.__value),se.__value=20,ie(se,se.__value),Ee.__value=50,ie(Ee,Ee.__value),te.__value=100,ie(te,te.__value),o(P,"id","pageSize"),o(P,"class","form-input w-20"),s[5]===void 0&&Dl(()=>s[21].call(P)),o(qe,"class","text-sm text-gray-600 dark:text-gray-400"),o(oe,"class","flex items-center space-x-2"),o($e,"class","text-sm text-gray-600 dark:text-gray-400"),o(ce,"class","flex items-center space-x-4"),o(he,"class","flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700"),o(re,"class","card"),o(t,"class","space-y-6")},m(g,q){ee(g,e,q),ee(g,t,q),a(t,l),a(l,n),a(l,i),a(l,f),a(f,m),_e(p,m,null),a(f,_),a(f,b),_e(h,b,null),a(b,x),a(b,C),a(t,j),a(t,B),a(B,U),a(U,W),a(W,Q),a(Q,N),ie(N,s[2]),a(W,D),a(W,$),_e(w,$,null),a(U,T),a(U,H),a(H,A),a(H,R),a(H,ae),a(H,ve),a(t,Ie),a(t,re),a(re,K),De[ne].m(K,null),a(re,E),a(re,he),a(he,ce),a(ce,oe),a(oe,Ne),a(oe,Y),a(oe,P),a(P,I),a(P,se),a(P,Ee),a(P,te),tl(P,s[5],!0),a(oe,Ze),a(oe,qe),a(ce,ft),a(ce,$e),a($e,kt),a($e,Se),a($e,tt),a($e,it),a($e,He),a($e,dt),a($e,_t),a(he,We),fe&&fe.m(he,null),ee(g,Oe,q),_e(Fe,g,q),ee(g,mt,q),_e(Ge,g,q),ee(g,pt,q),_e(Je,g,q),Ae=!0,yt||(wt=[le(m,"click",s[17]),le(b,"click",s[12]),le(N,"input",s[18]),le(P,"change",s[21]),le(P,"change",s[22])],yt=!0)},p(g,q){const Qe={};q[0]&2&&(Qe.class=g[1]?"animate-spin":""),p.$set(Qe),(!Ae||q[0]&2)&&(m.disabled=g[1]),q[0]&4&&N.value!==g[2]&&ie(N,g[2]),(!Ae||q[0]&1)&&J!==(J=g[0].length+"")&&je(ae,J);let Pe=ne;ne=Ct(g),ne===Pe?De[ne].p(g,q):(vt(),S(De[Pe],1,1,()=>{De[Pe]=null}),bt(),ue=De[ne],ue?ue.p(g,q):(ue=De[ne]=rt[ne](g),ue.c()),L(ue,1),ue.m(K,null)),q[0]&32&&tl(P,g[5]),(!Ae||q[0]&41)&&at!==(at=Math.min((g[3]-1)*g[5]+1,g[0].length)+"")&&je(Se,at),(!Ae||q[0]&41)&&ot!==(ot=Math.min(g[3]*g[5],g[0].length)+"")&&je(it,ot),(!Ae||q[0]&1)&&Re!==(Re=g[0].length+"")&&je(dt,Re),g[4]>1?fe?fe.p(g,q):(fe=dl(g),fe.c(),fe.m(he,null)):fe&&(fe.d(1),fe=null);const ke={};q[0]&64&&(ke.onClose=g[29]),q[0]&64|q[1]&4096&&(ke.$$scope={dirty:q,ctx:g}),!et&&q[0]&64&&(et=!0,ke.open=g[6],Xt(()=>et=!1)),Fe.$set(ke);const Te={};q[0]&128&&(Te.onClose=g[32]),q[0]&640|q[1]&4096&&(Te.$$scope={dirty:q,ctx:g}),!lt&&q[0]&128&&(lt=!0,Te.open=g[7],Xt(()=>lt=!1)),Ge.$set(Te);const Ve={};q[0]&768|q[1]&4096&&(Ve.$$scope={dirty:q,ctx:g}),!Ke&&q[0]&256&&(Ke=!0,Ve.open=g[8],Xt(()=>Ke=!1)),Je.$set(Ve)},i(g){Ae||(L(p.$$.fragment,g),L(h.$$.fragment,g),L(w.$$.fragment,g),L(ue),L(Fe.$$.fragment,g),L(Ge.$$.fragment,g),L(Je.$$.fragment,g),Ae=!0)},o(g){S(p.$$.fragment,g),S(h.$$.fragment,g),S(w.$$.fragment,g),S(ue),S(Fe.$$.fragment,g),S(Ge.$$.fragment,g),S(Je.$$.fragment,g),Ae=!1},d(g){g&&(d(e),d(t),d(Oe),d(mt),d(pt)),de(p),de(h),de(w),De[ne].d(),fe&&fe.d(),de(Fe,g),de(Ge,g),de(Je,g),yt=!1,Lt(wt)}}}function br(s,e,t){let l=[],n=!0,r="",i=1,f=1,m=10,p=!1,_=!1,b=!1,h=null;Nl(async()=>{await x()});async function x(E=1){try{t(1,n=!0),t(3,i=E);const he=await Rt.getUsers((E-1)*m,m);t(0,l=he.items||[]),t(4,f=Math.ceil((he.total||0)/m))}catch(he){console.error("Error loading users:",he),gt.error("Failed to load users")}finally{t(1,n=!1)}}function C(){return r?l.filter(E=>E.username.toLowerCase().includes(r.toLowerCase())||E.email.toLowerCase().includes(r.toLowerCase())||E.full_name&&E.full_name.toLowerCase().includes(r.toLowerCase())):l}function z(){t(9,h=null),t(6,p=!0)}function j(E){t(9,h=E),t(7,_=!0)}function B(E){t(9,h=E),t(8,b=!0)}async function U(){if(h)try{await Rt.deleteUser(h.id),gt.success(`User "${h.username}" deleted successfully`),t(8,b=!1),await x(i)}catch(E){console.error("Error deleting user:",E)}}async function W(){t(6,p=!1),t(7,_=!1),await x(i)}const Q=()=>x(i);function N(){r=this.value,t(2,r)}const D=E=>j(E),$=E=>B(E);function w(){m=Al(this),t(5,m)}const T=()=>{t(3,i=1),x(1)},H=()=>x(1),X=()=>x(i-1),A=E=>x(E),R=()=>x(i+1),J=()=>x(f),ae=()=>t(6,p=!1),ve=()=>t(6,p=!1);function Ie(E){p=E,t(6,p)}const re=()=>t(7,_=!1),K=()=>t(7,_=!1);function Ce(E){_=E,t(7,_)}const ne=()=>t(8,b=!1);function ue(E){b=E,t(8,b)}return[l,n,r,i,f,m,p,_,b,h,x,C,z,j,B,U,W,Q,N,D,$,w,T,H,X,A,R,J,ae,ve,Ie,re,K,Ce,ne,ue]}class Ar extends Jt{constructor(e){super(),Kt(this,e,br,vr,Gt,{},null,[-1,-1])}}export{Ar as component};

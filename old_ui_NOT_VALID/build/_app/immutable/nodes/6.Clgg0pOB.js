import{s as Be,n as _e,d as h,i as S,b as t,m as f,c as v,e as m,p as C,g as p,h as u,j as b,q as Oe,a as z,f as H,t as K,r as Pe,l as je}from"../chunks/BM_9wLIj.js";import{a as qe,e as Te}from"../chunks/CEGMbthI.js";import{S as Ue,i as Ae}from"../chunks/DQoX3H7n.js";function Me(o,e,s){const l=o.slice();return l[5]=e[s],l}function ze(o){let e,s,l,i=Te(o[0]),r=[];for(let n=0;n<i.length;n+=1)r[n]=Ke(Me(o,i,n));let d=o[0].length===0&&Se();return{c(){e=u("div"),s=u("ul");for(let n=0;n<r.length;n+=1)r[n].c();l=b(),d&&d.c(),this.h()},l(n){e=v(n,"DIV",{class:!0});var c=m(e);s=v(c,"UL",{role:!0,class:!0});var a=m(s);for(let _=0;_<r.length;_+=1)r[_].l(a);a.forEach(h),l=p(c),d&&d.l(c),c.forEach(h),this.h()},h(){f(s,"role","list"),f(s,"class","divide-y divide-gray-200 dark:divide-gray-700"),f(e,"class","bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-md")},m(n,c){S(n,e,c),t(e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(s,null);t(e,l),d&&d.m(e,null)},p(n,c){if(c&1){i=Te(n[0]);let a;for(a=0;a<i.length;a+=1){const _=Me(n,i,a);r[a]?r[a].p(_,c):(r[a]=Ke(_),r[a].c(),r[a].m(s,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=i.length}n[0].length===0?d||(d=Se(),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(n){n&&h(e),Pe(r,n),d&&d.d()}}}function Fe(o){let e,s,l,i,r="Error",d,n,c;return{c(){e=u("div"),s=u("div"),l=u("div"),i=u("h3"),i.textContent=r,d=b(),n=u("div"),c=K(o[2]),this.h()},l(a){e=v(a,"DIV",{class:!0});var _=m(e);s=v(_,"DIV",{class:!0});var g=m(s);l=v(g,"DIV",{class:!0});var k=m(l);i=v(k,"H3",{class:!0,"data-svelte-h":!0}),C(i)!=="svelte-1kwq5gg"&&(i.textContent=r),d=p(k),n=v(k,"DIV",{class:!0});var D=m(n);c=H(D,o[2]),D.forEach(h),k.forEach(h),g.forEach(h),_.forEach(h),this.h()},h(){f(i,"class","text-sm font-medium text-red-800 dark:text-red-200"),f(n,"class","mt-2 text-sm text-red-700 dark:text-red-300"),f(l,"class","ml-3"),f(s,"class","flex"),f(e,"class","bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4")},m(a,_){S(a,e,_),t(e,s),t(s,l),t(l,i),t(l,d),t(l,n),t(n,c)},p(a,_){_&4&&z(c,a[2])},d(a){a&&h(e)}}}function Ge(o){let e,s='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"></div> <p class="mt-2 text-sm text-gray-500">Loading master keys...</p>';return{c(){e=u("div"),e.innerHTML=s,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-1dpt1u8"&&(e.innerHTML=s),this.h()},h(){f(e,"class","text-center py-12")},m(l,i){S(l,e,i)},p:_e,d(l){l&&h(e)}}}function He(o){let e,s="Copy",l,i;function r(){return o[4](o[5])}return{c(){e=u("button"),e.textContent=s,this.h()},l(d){e=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-jyuvct"&&(e.textContent=s),this.h()},h(){f(e,"class","text-xs text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300")},m(d,n){S(d,e,n),l||(i=je(e,"click",r),l=!0)},p(d,n){o=d},d(d){d&&h(e),l=!1,i()}}}function Ke(o){let e,s,l,i,r,d,n,c=o[5].id+"",a,_,g,k,D,me="Public Key",se,V,xe="Copy",re,j,N,F=o[5].public_key+"",W,ie,w,I,L,ge="Private Key (Masked)",de,ne,B,O,G=o[5].private_key_masked+"",X,oe,P,E,T,ke="Created",ce,J,Q=new Date(o[5].created_at).toLocaleDateString()+"",Y,ve,q,R=new Date(o[5].created_at).toLocaleTimeString()+"",Z,ue,fe,pe;function Ne(){return o[3](o[5])}let x=o[5].private_key_masked!=="Not generated"&&He(o);return{c(){e=u("li"),s=u("div"),l=u("div"),i=u("div"),r=u("div"),d=u("p"),n=K("Key ID: "),a=K(c),_=b(),g=u("div"),k=u("div"),D=u("label"),D.textContent=me,se=b(),V=u("button"),V.textContent=xe,re=b(),j=u("div"),N=u("code"),W=K(F),ie=b(),w=u("div"),I=u("div"),L=u("label"),L.textContent=ge,de=b(),x&&x.c(),ne=b(),B=u("div"),O=u("code"),X=K(G),oe=b(),P=u("div"),E=u("div"),T=u("div"),T.textContent=ke,ce=b(),J=u("div"),Y=K(Q),ve=b(),q=u("div"),Z=K(R),ue=b(),this.h()},l(M){e=v(M,"LI",{});var y=m(e);s=v(y,"DIV",{class:!0});var be=m(s);l=v(be,"DIV",{class:!0});var $=m(l);i=v($,"DIV",{class:!0});var U=m(i);r=v(U,"DIV",{class:!0});var ye=m(r);d=v(ye,"P",{class:!0});var he=m(d);n=H(he,"Key ID: "),a=H(he,c),he.forEach(h),ye.forEach(h),_=p(U),g=v(U,"DIV",{class:!0});var ee=m(g);k=v(ee,"DIV",{class:!0});var te=m(k);D=v(te,"LABEL",{class:!0,"data-svelte-h":!0}),C(D)!=="svelte-8gigon"&&(D.textContent=me),se=p(te),V=v(te,"BUTTON",{class:!0,"data-svelte-h":!0}),C(V)!=="svelte-lfw7w5"&&(V.textContent=xe),te.forEach(h),re=p(ee),j=v(ee,"DIV",{class:!0});var De=m(j);N=v(De,"CODE",{class:!0});var Ee=m(N);W=H(Ee,F),Ee.forEach(h),De.forEach(h),ee.forEach(h),ie=p(U),w=v(U,"DIV",{class:!0});var le=m(w);I=v(le,"DIV",{class:!0});var ae=m(I);L=v(ae,"LABEL",{class:!0,"data-svelte-h":!0}),C(L)!=="svelte-zfh3ul"&&(L.textContent=ge),de=p(ae),x&&x.l(ae),ae.forEach(h),ne=p(le),B=v(le,"DIV",{class:!0});var Ie=m(B);O=v(Ie,"CODE",{class:!0});var Ce=m(O);X=H(Ce,G),Ce.forEach(h),Ie.forEach(h),le.forEach(h),U.forEach(h),oe=p($),P=v($,"DIV",{class:!0});var Ve=m(P);E=v(Ve,"DIV",{class:!0});var A=m(E);T=v(A,"DIV",{class:!0,"data-svelte-h":!0}),C(T)!=="svelte-h2iyxe"&&(T.textContent=ke),ce=p(A),J=v(A,"DIV",{});var we=m(J);Y=H(we,Q),we.forEach(h),ve=p(A),q=v(A,"DIV",{class:!0});var Le=m(q);Z=H(Le,R),Le.forEach(h),A.forEach(h),Ve.forEach(h),$.forEach(h),be.forEach(h),ue=p(y),y.forEach(h),this.h()},h(){f(d,"class","text-sm font-medium text-gray-900 dark:text-white"),f(r,"class","flex items-center mb-3"),f(D,"class","text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"),f(V,"class","text-xs text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300"),f(k,"class","flex items-center justify-between mb-1"),f(N,"class","text-xs text-gray-800 dark:text-gray-200 break-all font-mono"),f(j,"class","bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 rounded-md p-3"),f(g,"class","mb-3"),f(L,"class","text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"),f(I,"class","flex items-center justify-between mb-1"),f(O,"class","text-xs text-gray-800 dark:text-gray-200 break-all font-mono"),f(B,"class","bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 rounded-md p-3"),f(w,"class","mb-3"),f(i,"class","flex-1 min-w-0"),f(T,"class","font-medium"),f(q,"class","text-xs mt-1"),f(E,"class","text-right"),f(P,"class","flex-shrink-0 ml-4 text-sm text-gray-500 dark:text-gray-400"),f(l,"class","flex items-start justify-between"),f(s,"class","px-4 py-4 sm:px-6")},m(M,y){S(M,e,y),t(e,s),t(s,l),t(l,i),t(i,r),t(r,d),t(d,n),t(d,a),t(i,_),t(i,g),t(g,k),t(k,D),t(k,se),t(k,V),t(g,re),t(g,j),t(j,N),t(N,W),t(i,ie),t(i,w),t(w,I),t(I,L),t(I,de),x&&x.m(I,null),t(w,ne),t(w,B),t(B,O),t(O,X),t(l,oe),t(l,P),t(P,E),t(E,T),t(E,ce),t(E,J),t(J,Y),t(E,ve),t(E,q),t(q,Z),t(e,ue),fe||(pe=je(V,"click",Ne),fe=!0)},p(M,y){o=M,y&1&&c!==(c=o[5].id+"")&&z(a,c),y&1&&F!==(F=o[5].public_key+"")&&z(W,F),o[5].private_key_masked!=="Not generated"?x?x.p(o,y):(x=He(o),x.c(),x.m(I,null)):x&&(x.d(1),x=null),y&1&&G!==(G=o[5].private_key_masked+"")&&z(X,G),y&1&&Q!==(Q=new Date(o[5].created_at).toLocaleDateString()+"")&&z(Y,Q),y&1&&R!==(R=new Date(o[5].created_at).toLocaleTimeString()+"")&&z(Z,R)},d(M){M&&h(e),x&&x.d(),fe=!1,pe()}}}function Se(o){let e,s='<p class="text-sm text-gray-500 dark:text-gray-400">No master keys found.</p>';return{c(){e=u("div"),e.innerHTML=s,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-1fvdg7p"&&(e.innerHTML=s),this.h()},h(){f(e,"class","text-center py-12")},m(l,i){S(l,e,i)},d(l){l&&h(e)}}}function Je(o){let e,s,l='<div class="sm:flex-auto"><h1 class="text-2xl font-semibold text-gray-900 dark:text-white">Master Keys</h1> <p class="mt-2 text-sm text-gray-700 dark:text-gray-300">View the master encryption keys used for license files.</p></div>',i,r;function d(a,_){return a[1]?Ge:a[2]?Fe:ze}let n=d(o),c=n(o);return{c(){e=u("div"),s=u("div"),s.innerHTML=l,i=b(),r=u("div"),c.c(),this.h()},l(a){e=v(a,"DIV",{class:!0});var _=m(e);s=v(_,"DIV",{class:!0,"data-svelte-h":!0}),C(s)!=="svelte-16no3lr"&&(s.innerHTML=l),i=p(_),r=v(_,"DIV",{class:!0});var g=m(r);c.l(g),g.forEach(h),_.forEach(h),this.h()},h(){f(s,"class","sm:flex sm:items-center"),f(r,"class","mt-8"),f(e,"class","px-4 sm:px-6 lg:px-8")},m(a,_){S(a,e,_),t(e,s),t(e,i),t(e,r),c.m(r,null)},p(a,[_]){n===(n=d(a))&&c?c.p(a,_):(c.d(1),c=n(a),c&&(c.c(),c.m(r,null)))},i:_e,o:_e,d(a){a&&h(e),c.d()}}}function Qe(o,e,s){let l=[],i=!0,r="";return Oe(async()=>{try{s(0,l=await qe.get("/licenses/master-keys"))}catch(c){s(2,r=c.message||"Failed to load master keys")}finally{s(1,i=!1)}}),[l,i,r,c=>navigator.clipboard.writeText(c.public_key),c=>navigator.clipboard.writeText(c.private_key_masked)]}class Ye extends Ue{constructor(e){super(),Ae(this,e,Qe,Je,Be,{})}}export{Ye as component};
